---
article: false
date: 2023-02-01
order: 2
author: Hirsun
headerDepth: 2
---

# æ¢¯åº¦ä¸‹é™åŸºç¡€æ¦‚å¿µ

æœºå™¨å­¦ä¹ ä¸­çš„å¤§éƒ¨åˆ†é—®é¢˜éƒ½æ˜¯ä¼˜åŒ–é—®é¢˜ï¼Œè€Œç»å¤§éƒ¨åˆ†ä¼˜åŒ–é—®é¢˜éƒ½å¯ä»¥ä½¿ç”¨æ¢¯åº¦ä¸‹é™æ³•å¤„ç†ã€‚å› æ­¤ç›¸å…³çš„åŸºç¡€æ¦‚å¿µååˆ†é‡è¦ã€‚

## å¾®åˆ†/å¯¼æ•°

- ç§¯åˆ†ã€ŒIntegralã€
- å¾®åˆ†ã€ŒDifferentialã€ï¼ˆæ±‚ç§¯åˆ† = æ±‚å¯¼æ•°ã€ŒDerivativeã€= æ±‚æ–œç‡ã€ŒSlopeã€ï¼‰

$$f^{\prime}\left(x_{0}\right)=\lim _{\Delta x \rightarrow 0} \frac{\Delta y}{\Delta x}=\lim _{\Delta x \rightarrow 0} \frac{f\left(x_{0}+\Delta x\right)-f\left(x_{0}\right)}{\Delta x}$$

## åå¯¼æ•°

$$\frac{\partial}{\partial x_{j}} f\left(x_{0}, x_{1}, \ldots, x_{n}\right)=\lim _{\Delta x \rightarrow 0} \frac{\Delta y}{\Delta x}=\lim _{\Delta x \rightarrow 0} \frac{f\left(x_{0}, \ldots, x_{j}+\Delta x, \ldots, x_{n}\right)-f\left(x_{0}, \ldots, x_{j}, \ldots, x_{n}\right)}{\Delta x}$$

::: tip

$\frac{\partial}{\partial x_{j}}$ å’Œ $dy/dx$ ä¸€æ ·ï¼Œåªæ˜¯ä»£è¡¨æ ‡è®°ã€‚

:::

å¯¼æ•°ä¸åå¯¼æ•°æœ¬è´¨æ˜¯ä¸€è‡´çš„ï¼Œéƒ½æ˜¯å½“è‡ªå˜é‡çš„å˜åŒ–é‡è¶‹äº0æ—¶ï¼Œå‡½æ•°å€¼çš„å˜åŒ–é‡ä¸è‡ªå˜é‡å˜åŒ–é‡æ¯”å€¼çš„æé™ã€‚ç›´è§‚åœ°è¯´ï¼Œåå¯¼æ•°ä¹Ÿå°±æ˜¯å‡½æ•°åœ¨æŸä¸€ç‚¹ä¸Š**æ²¿åæ ‡è½´æ­£æ–¹å‘**çš„**å˜åŒ–ç‡**ã€‚

åŒºåˆ«åœ¨äºï¼š

- å¯¼æ•°ï¼ŒæŒ‡çš„æ˜¯ä¸€å…ƒå‡½æ•°ä¸­ï¼Œå‡½æ•°y=f(x)åœ¨æŸä¸€ç‚¹å¤„æ²¿xè½´æ­£æ–¹å‘çš„å˜åŒ–ç‡ï¼›
- åå¯¼æ•°ï¼ŒæŒ‡çš„æ˜¯å¤šå…ƒå‡½æ•°ä¸­ï¼Œå‡½æ•° y=f(x1,x2,â€¦,xn )åœ¨æŸä¸€ç‚¹å¤„æ²¿æŸä¸€åæ ‡è½´ï¼ˆx1,x2,â€¦,xn) æ­£æ–¹å‘çš„å˜åŒ–ç‡

## æ–¹å‘å¯¼æ•°

å¯¼æ•°å’Œåå¯¼æ•°çš„å®šä¹‰ï¼Œå‡æ˜¯æ²¿åæ ‡è½´**æ­£æ–¹å‘**è®¨è®ºå‡½æ•°çš„å˜åŒ–ç‡ã€‚é‚£ä¹ˆå½“è®¨è®ºå‡½æ•°æ²¿ä»»æ„æ–¹å‘çš„å˜åŒ–ç‡æ—¶ï¼Œä¹Ÿå°±å¼•å‡ºäº†**æ–¹å‘å¯¼æ•°çš„å®šä¹‰**ï¼Œå³ï¼š**æŸä¸€ç‚¹åœ¨æŸä¸€è¶‹è¿‘æ–¹å‘ä¸Šçš„å¯¼æ•°å€¼ã€‚**

$$\frac{\partial}{\partial l} f\left(x_{0}, x_{1}, \ldots, x_{n}\right)=\lim _{\rho \rightarrow 0} \frac{\Delta y}{\Delta x}=\lim _{\rho \rightarrow 0} \frac{f\left(x_{0}+\Delta x_{0}, \ldots, x_{j}+\Delta x_{j}, \ldots, x_{n}+\Delta x_{n}\right)-f\left(x_{0}, \ldots, x_{j}, \ldots, x_{n}\right)}{\rho}$$

$$\rho=\sqrt{\left(\Delta x_{0}\right)^{2}+\cdots+\left(\Delta x_{j}\right)^{2}+\cdots+\left(\Delta x_{n}\right)^{2}}$$

é€šä¿—çš„è§£é‡Šæ˜¯ï¼šæˆ‘ä»¬ä¸ä»…è¦çŸ¥é“å‡½æ•°åœ¨åæ ‡è½´æ­£æ–¹å‘ä¸Šçš„å˜åŒ–ç‡ï¼ˆå³åå¯¼æ•°ï¼‰ï¼Œè€Œä¸”å¯èƒ½è¿˜è¦è®¾æ³•æ±‚å¾—å‡½æ•°åœ¨å…¶ä»–ç‰¹å®šæ–¹å‘ä¸Šçš„å˜åŒ–ç‡ã€‚è€Œæ–¹å‘å¯¼æ•°å°±æ˜¯å‡½æ•°åœ¨å…¶ä»–ç‰¹å®šæ–¹å‘ä¸Šçš„å˜åŒ–ç‡ã€‚

## æ¢¯åº¦

$$\operatorname{gradf}\left(x_{0}, x_{1}, \ldots, x_{n}\right)=\left(\frac{\partial f}{\partial x_{0}}, \ldots, \frac{\partial f}{\partial x_{j}}, \ldots, \frac{\partial f}{\partial x_{n}}\right)$$

å‡½æ•°åœ¨æŸä¸€ç‚¹çš„æ¢¯åº¦æ˜¯è¿™æ ·ä¸€ä¸ª**å‘é‡**ï¼Œå®ƒçš„æ–¹å‘ä¸å–å¾—æœ€å¤§æ–¹å‘å¯¼æ•°çš„æ–¹å‘ä¸€è‡´ï¼Œè€Œå®ƒçš„æ¨¡ä¸ºæ–¹å‘å¯¼æ•°çš„æœ€å¤§å€¼ã€‚å³

- æ¢¯åº¦æ˜¯ä¸€ä¸ªå‘é‡ï¼Œå³æœ‰æ–¹å‘æœ‰å¤§å°ï¼›
- æ¢¯åº¦çš„æ–¹å‘æ˜¯æœ€å¤§æ–¹å‘å¯¼æ•°çš„æ–¹å‘ï¼›
- æ¢¯åº¦çš„å€¼æ˜¯æœ€å¤§æ–¹å‘å¯¼æ•°çš„å€¼ï¼›

::: info å‘é‡ç†è§£

åå¯¼æ•°ä¸æ–¹å‘å¯¼æ•°æ˜¯å‘é‡å—ï¼Ÿ

åå¯¼æ•°å’Œæ–¹å‘å¯¼æ•°è¡¨è¾¾çš„æ˜¯å‡½æ•°åœ¨æŸä¸€ç‚¹æ²¿æŸä¸€æ–¹å‘çš„å˜åŒ–ç‡ï¼Œä¹Ÿæ˜¯å…·æœ‰æ–¹å‘å’Œå¤§å°çš„ã€‚

- å› æ­¤ä»è¿™ä¸ªè§’åº¦æ¥ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåå¯¼æ•°å’Œæ–¹å‘å¯¼æ•°çœ‹ä½œæ˜¯å‘é‡ã€‚
- å‘é‡çš„æ–¹å‘å°±æ˜¯å˜åŒ–ç‡çš„æ–¹å‘ï¼Œå‘é‡çš„æ¨¡æ˜¯å˜åŒ–ç‡çš„å¤§å°ã€‚

é‚£ä¹ˆæ²¿ç€è¿™æ ·ä¸€ç§æ€è·¯ï¼Œå°±å¯ä»¥å¦‚ä¸‹ç†è§£æ¢¯åº¦ï¼šæ¢¯åº¦å³å‡½æ•°åœ¨æŸä¸€ç‚¹**æœ€å¤§çš„æ–¹å‘å¯¼æ•°**ï¼Œå‡½æ•°æ²¿æ¢¯åº¦æ–¹å‘å‡½æ•°æœ‰æœ€å¤§çš„å˜åŒ–ç‡ã€‚

:::

## æ¢¯åº¦ä¸‹é™æ³•

### ç›´è§‚ç†è§£

é¦–å…ˆæ¥çœ‹çœ‹æ¢¯åº¦ä¸‹é™çš„ä¸€ä¸ªç›´è§‚çš„è§£é‡Šã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ä¸€åº§å¤§å±±ä¸Šçš„æŸå¤„ä½ç½®ï¼Œç”±äºæˆ‘ä»¬ä¸çŸ¥é“æ€ä¹ˆä¸‹å±±ï¼Œäºæ˜¯å†³å®šèµ°ä¸€æ­¥ç®—ä¸€æ­¥ï¼Œä¹Ÿå°±æ˜¯åœ¨æ¯èµ°åˆ°ä¸€ä¸ªä½ç½®çš„æ—¶å€™ï¼Œæ±‚è§£å½“å‰ä½ç½®çš„æ¢¯åº¦ï¼Œæ²¿ç€æ¢¯åº¦çš„**è´Ÿæ–¹å‘**ï¼Œä¹Ÿå°±æ˜¯å½“å‰æœ€é™¡å³­çš„ä½ç½®å‘ä¸‹èµ°ä¸€æ­¥ï¼Œç„¶åç»§ç»­æ±‚è§£å½“å‰ä½ç½®æ¢¯åº¦ï¼Œå‘è¿™ä¸€æ­¥æ‰€åœ¨ä½ç½®æ²¿ç€æœ€é™¡å³­æœ€æ˜“ä¸‹å±±çš„ä½ç½®èµ°ä¸€æ­¥ã€‚è¿™æ ·ä¸€æ­¥æ­¥çš„èµ°ä¸‹å»ï¼Œä¸€ç›´èµ°åˆ°è§‰å¾—æˆ‘ä»¬å·²ç»åˆ°äº†å±±è„šã€‚å½“ç„¶è¿™æ ·èµ°ä¸‹å»ï¼Œæœ‰å¯èƒ½æˆ‘ä»¬ä¸èƒ½èµ°åˆ°å±±è„šï¼Œè€Œæ˜¯åˆ°äº†æŸä¸€ä¸ªå±€éƒ¨çš„å±±å³°ä½å¤„ã€‚

![1675222832117.png](https://pic.hanjiaming.com.cn/2023/02/01/ca77e16455e29.png)

ä»ä¸Šé¢çš„è§£é‡Šå¯ä»¥çœ‹å‡ºï¼Œæ¢¯åº¦ä¸‹é™ä¸ä¸€å®šèƒ½å¤Ÿæ‰¾åˆ°å…¨å±€çš„æœ€ä¼˜è§£ï¼Œæœ‰å¯èƒ½æ˜¯ä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ã€‚**å½“ç„¶ï¼Œå¦‚æœæŸå¤±å‡½æ•°æ˜¯å‡¸å‡½æ•°ï¼Œæ¢¯åº¦ä¸‹é™æ³•å¾—åˆ°çš„è§£å°±ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚**

### åšæ³•

æ—¢ç„¶åœ¨å˜é‡ç©ºé—´çš„æŸä¸€ç‚¹å¤„ï¼Œå‡½æ•°æ²¿æ¢¯åº¦æ–¹å‘å…·æœ‰æœ€å¤§çš„å˜åŒ–ç‡ï¼Œé‚£ä¹ˆåœ¨ä¼˜åŒ–ç›®æ ‡å‡½æ•°çš„æ—¶å€™ï¼Œè‡ªç„¶æ˜¯**æ²¿ç€è´Ÿæ¢¯åº¦æ–¹å‘å»å‡å°å‡½æ•°å€¼**ï¼Œä»¥æ­¤è¾¾åˆ°æˆ‘ä»¬çš„ä¼˜åŒ–ç›®æ ‡ã€‚

å¦‚ä½•æ²¿ç€è´Ÿæ¢¯åº¦æ–¹å‘å‡å°å‡½æ•°å€¼å‘¢ï¼Ÿæ¢¯åº¦å’Œåå¯¼æ•°éƒ½æ˜¯å‘é‡ï¼Œé‚£ä¹ˆå‚è€ƒå‘é‡è¿ç®—æ³•åˆ™ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªå˜é‡è½´ä¸Šå‡å°å¯¹åº”å˜é‡å€¼å³å¯ï¼Œæ¢¯åº¦ä¸‹é™æ³•å¯ä»¥æè¿°å¦‚ä¸‹

<img src="https://pic.hanjiaming.com.cn/2023/02/01/bae7f496b69b4.png" alt="1675222243404.png" style="zoom:50%;" />

### æ­£ç¡®æ€§è®¨è®º

è™½ç„¶æ¯æ¬¡æˆ‘ä»¬å°†æ¢¯åº¦çœ‹åšå‘é‡ï¼Œä½†æ˜¯è®¡ç®—çš„æ—¶å€™æ˜¯åˆ†æ–¹å‘è®¡ç®—çš„ã€‚

æ¢¯åº¦ä¸‹é™æ³•å¹¶ä¸æ˜¯ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Œå®ƒåªæ˜¯ç›®æ ‡å‡½æ•°åœ¨å½“å‰çš„ç‚¹çš„åˆ‡å¹³é¢ï¼ˆå½“ç„¶é«˜ç»´é—®é¢˜ä¸èƒ½å«å¹³é¢ï¼‰ä¸Šä¸‹é™æœ€å¿«çš„æ–¹å‘ã€‚

::: info

ç‰›é¡¿æ–¹å‘ï¼ˆè€ƒè™‘**æµ·æ£®çŸ©é˜µ**ï¼‰æ‰ä¸€èˆ¬è¢«è®¤ä¸ºæ˜¯ä¸‹é™æœ€å¿«çš„æ–¹å‘ï¼Œå¯ä»¥è¾¾åˆ°Superlinearçš„æ”¶æ•›é€Ÿåº¦ã€‚æ¢¯åº¦ä¸‹é™ç±»çš„ç®—æ³•çš„æ”¶æ•›é€Ÿåº¦ä¸€èˆ¬æ˜¯Linearç”šè‡³Sublinearçš„ï¼ˆåœ¨æŸäº›å¸¦å¤æ‚çº¦æŸçš„é—®é¢˜ï¼‰ã€‚

:::

### ä½•æ—¶åœæ­¢

If  $J\left(\theta_{0}, \theta_{1}\right)$ decreases by less than a threshold ğœ€ (e.g., 10-3) in one iteration

- Each iteration, we use **all** ğ‘š training examples to update $\theta_{0}, \theta_{1}$
- Use updated $\theta_{0}, \theta_{1}$ to recalculate $J\left(\theta_{0}, \theta_{1}\right)$ and find the decrease

## åå¯¼å…¬å¼æ¨å¯¼

![CleanShot 2023-02-01 at 11.34.46@2x.png](https://pic.hanjiaming.com.cn/2023/02/01/a1f614e6317b7.png)

è¿™é‡Œå…³å¿ƒ $J\left(\theta_{0}, \theta_{1}\right)$ çš„åå¯¼æ•°çš„è®¡ç®—

- æ ¹æ®å¯¼å‡½æ•°çš„åŠ æ³•è¿ç®—æ³•åˆ™(f + g)' = f' + g'ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªå‡½æ•°çš„å’Œçš„å¯¼æ•°ç­‰äºå„å‡½æ•°çš„å¯¼æ•°çš„å’Œï¼Œæˆ‘ä»¬å¯å¾—åˆ°
  $$\frac{\partial}{\partial \theta_{j}} J\left(\theta_{0}, \theta_{1}\right)=\frac{1}{2 m} \sum_{i=1}^{m} \frac{\partial}{\partial \theta_{j}}\left(\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right)^{2}\right)$$

- åˆæ ¹æ®å¤åˆå‡½æ•°çš„æ±‚å¯¼æ³•åˆ™f'(g(x)) = f'(u)g'(x)ï¼Œæœ‰

  $$\begin{aligned}
  \frac{\partial}{\partial \theta_{j}} J\left(\theta_{0}, \theta_{1}\right) & =\frac{1}{2 m} \sum_{i=1}^{m} 2\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right) \frac{\partial}{\partial \theta_{j}}\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right) \\
  & =\frac{1}{m} \sum_{i=1}^{m}\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right) \frac{\partial}{\partial \theta_{j}}\left(\theta_{0}+\theta_{1} x^{(i)}-y^{(i)}\right) ......(1)
  \end{aligned}$$

- ä½™ä¸‹éƒ¨åˆ†çš„åå¯¼å°±æ¯”è¾ƒç®€å•äº†ï¼Œå®ƒæ˜¯å¯¹ä¸€ä¸ªäºŒå…ƒä¸€æ¬¡å‡½æ•°çš„è‡ªå˜é‡æ±‚åå¯¼ï¼Œ**æ ¹æ®åå¯¼çš„å®šä¹‰ï¼Œå¯¹æ±‚åå¯¼æ•°æ—¶ï¼Œæˆ‘ä»¬æŠŠçœ‹ä½œå¸¸æ•°ï¼Œå¯¹æ±‚åå¯¼æ•°æ—¶ï¼Œæˆ‘ä»¬æŠŠçœ‹ä½œå¸¸æ•°**ã€‚äºæ˜¯æœ‰ï¼š

  $$\frac{\partial}{\partial \theta_{0}}\left(\theta_{0}+\theta_{1} x^{(i)}-y^{(i)}\right)=1$$ 
  $$\frac{\partial}{\partial \theta_{1}}\left(\theta_{0}+\theta_{1} x^{(i)}-y^{(i)}\right)=x^{(i)}$$

- æŠŠä¸Šé¢ä¸¤å¼åˆ†åˆ«å¸¦å…¥ï¼ˆ1ï¼‰å¼å¯å¾—ï¼š
  $$\frac{\partial}{\partial \theta_{0}} J\left(\theta_{0}, \theta_{1}\right)=\frac{1}{m} \sum_{i=1}^{m}\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right)$$ 
  $$\frac{\partial}{\partial \theta_{1}} J\left(\theta_{0}, \theta_{1}\right)=\frac{1}{m} \sum_{i=1}^{m}\left(h_{\theta}\left(x^{(i)}\right)-y^{(i)}\right) x^{(i)}$$

## Ref

- https://cloud.tencent.com/developer/article/1465330
- https://www.cnblogs.com/pinard/p/5970503.html
- https://cloud.tencent.com/developer/article/1668816
- https://www.cnblogs.com/lingjiajun/p/9895753.html
