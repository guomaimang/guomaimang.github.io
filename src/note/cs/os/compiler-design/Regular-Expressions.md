---
article: false
date: 2022-11-09
order: 3
headerDepth: 1


---

# Regular Expressions

- **The rules for specifying token patterns are called regular expression.**ã€Œç”¨äºæŒ‡å®šæ ‡è®°æ¨¡å¼çš„è§„åˆ™è¢«ç§°ä¸ºæ­£åˆ™è¡¨è¾¾å¼ã€‚ã€
- A regular set (regular language) is the set of strings generated by a regular expression over an alphabet.ã€Œæ­£åˆ™é›†ï¼ˆæ­£åˆ™è¯­è¨€ï¼‰æ˜¯ **ç”±ä¸€ä¸ªå­—æ¯è¡¨ä¸Šçš„æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆçš„å­—ç¬¦ä¸²é›†**ã€‚ã€

## Alphabet and Strings

ä¸€ä¸ªå­—æ¯è¡¨ã€Œ**alphabet**ã€ï¼ˆé€šå¸¸è¡¨ç¤ºä¸ºÎ£ï¼‰æ˜¯ä¸€ä¸ªæœ‰é™çš„ç¬¦å·é›†ã€Œfinite set of symbolsã€ã€‚

- E.g. \{0,1\} is the binary digits alphabet;
- E.g. \{a, b, ... , z, A, B, ... , Z\} is the English letters alphabet.

åœ¨ä¸€ä¸ªå­—æ¯è¡¨ Î£ ä¸Šçš„å­—ç¬¦ä¸²ã€Œ**string**ã€ ğ‘  æ˜¯ä¸€ä¸ªä»è¯¥å­—æ¯è¡¨ä¸­æŠ½å–çš„ç¬¦å·çš„æœ‰é™åºåˆ—ã€‚

- `01001` is the string over Î£<sub>bin_digits</sub> = `{0,1}`
- `wxyzabc` is the string over Î£<sub>lower_case_letters</sub> = `a, b, ... , z `
- ğœ€ denotes the empty string (without any symbol)

The length of a string ğ‘  is denoted as |ğ‘ |. E.g. |ğœ€| = 0; |101| = 3; |abcdef| = 6.

::: info

ğœ€ éœ€è¦æ˜¾å¼çš„åœ¨é›†åˆä¸­å†™å‡ºæ¥ï¼Œä»¥è¡¨ç¤ºå®ƒçš„å­˜åœ¨ã€‚

:::

## Kleene Closure and Language

å­—æ¯è¡¨ Î£ çš„ **Kleene closure**ï¼Œè¡¨ç¤ºä¸º Î£<sup>*</sup>ï¼Œæ˜¯ å­—æ¯è¡¨ Î£ä¸Š**æ‰€æœ‰å­—ç¬¦ä¸²çš„é›†åˆ**ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ä¸² ğœ€ã€‚

- E.g. given alphabet Î£ = {0,1}, then Î£<sup>*</sup> = \{ğœ€, 0, 1, 00, 01, 10, 11, 000, 001, ... \}

::: warning

é›†åˆçš„å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚

:::

åœ¨ä¸€ä¸ªå­—æ¯è¡¨ Î£ ä¸Šçš„ä»»ä½•å­—ç¬¦ä¸²é›†ï¼Œå³ Î£<sup>*</sup> çš„ä»»ä½•**å­é›†**ï¼Œè¢«ç§°ä¸ºè¯­è¨€ã€Œ**Language**ã€ã€‚

- E.g. the empty set âˆ…, {ğœ€}, Î£, and Î£<sup>*</sup> are all languages;
- \{abc,Def,D,z\} is a language over Î£<sub>letters</sub> = \{a,b, ... ,z,A,B, ... ,Z\}

### Operations on languages

Language æ˜¯ä¸€ä¸ª**é›†åˆ**ï¼Œå› æ­¤æ‰€æœ‰é›†åˆæ“ä½œéƒ½å¯ä»¥åº”ç”¨äº Languageã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ“ä½œå‡ºæ¥çš„ç»“æœéƒ½æ˜¯é›†åˆã€‚

Particularly unionã€Œäº¤é›†ã€, concatenationã€Œå¹¶é›†ã€, Kleene closure, and positive closureã€Œå³ä¸å« ğœ€ã€.

![1667927831142.png](https://pic.hanjiaming.com.cn/2022/11/09/529618f0c47f4.png)

::: tip

LM æ˜¯ è¿™ç§è¿æ¥ï¼Œå¿…é¡»æ˜¯Lçš„å…ƒç´ åœ¨å‰ï¼ŒMçš„å…ƒç´ åœ¨åã€‚

:::

### Operations on Languages: Precedence

Kleene closure â‰» concatenation â‰» union

Examples for operations on languages, Given ğ¿ = \{a,b\} and ğ‘€ = \{a,bb\}

![241b4e311a783.png](https://pic.hanjiaming.com.cn/2022/11/09/66c9ef3e15daf.png)

Another example for operations on languages,

<img src="https://pic.hanjiaming.com.cn/2022/11/09/ba5f8a1a995f7.png" alt="1667929110706.png" style="zoom:33%;" />

## æ­£åˆ™è¡¨è¾¾å¼

åœ¨å­—æ¯ Î£ ä¸Šå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ï¼š

1. ç©ºå­—ç¬¦ä¸² ğœ€ æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºè¯­è¨€ \{ğœ€\}
2. å•ä¸ªç¬¦å· ğ‘ âˆˆ Î£ æ˜¯è¡¨ç¤ºè¯­è¨€ \{ğ‘\} çš„æ­£åˆ™è¡¨è¾¾å¼
3. å‡è®¾ ğ‘Ÿ å’Œ ğ‘  æ˜¯è¡¨ç¤ºè¯­è¨€ ğ¿ï¼ˆğ‘Ÿï¼‰å’Œ ğ¿ï¼ˆğ‘ ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆ
   - (ğ‘Ÿ) | (ğ‘ ) æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤º ğ¿ (ğ‘Ÿ) âˆª ğ¿ (ğ‘ ) 
   - (ğ‘Ÿ) | (ğ‘ ï¼‰æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤º ğ¿ (ğ‘Ÿï¼‰ğ¿(ğ‘ )
   -  (ğ‘Ÿ)<sup>\*</sup> is a regular expression denoting (ğ¿(ğ‘Ÿ))<sup>\*</sup>
   -  (ğ‘Ÿ) is a regular expression denoting (ğ¿ (ğ‘Ÿ) )

Regular Set (Regular Language): æ¯ä¸ªæ­£åˆ™è¡¨è¾¾å¼ ğ‘Ÿ éƒ½è¡¨ç¤ºä¸€ç§**è¯­è¨€ï¼ˆé›†åˆï¼‰**ğ¿ (ğ‘Ÿ) ï¼Œè¿™è¢«ç§°ä¸ºæ­£åˆ™é›†ï¼ˆåˆç§°æ­£åˆ™è¯­è¨€ï¼‰ã€‚

E.g., given Î£ = {a, b}, then a|b denotes the regular set \{a, b\}.

```
Example: Identifier in Pascal
Pascal identifier: a string of letters and digits beginning with a letter.

Regular definition:
LETTER â†’ A|B| ... |Z|a|b ...|z
DIGIT â†’ 0|1...|9
ID â†’ LETTER(LETTER | DIGIT)âˆ—
```

```
Example: Unsigned Numbers in Pascal
Unsigned numbers in Pascal are strings such as 5230, 39.37, 6.336E4, or 1.89E-4.

Regular definition:
OPTIONAL_FRAC â†’ .DIGITS|ğœ€
OPTIONAL_EXP â†’ (E(+|âˆ’|ğœ€)DIGITS)|ğœ€
NUM â†’ DIGITS OPTIONAL_FRAC OPTIONAL_EXP
```

::: tip

1. å•ä¸ªå­—æ¯è¡¨ç¤º ä»é›†åˆä¸­æŠ½å–1ä¸ªå…ƒç´ 
2. å¯ä»¥ä»è€è™æœºçš„è§’åº¦ç†è§£ `DIGITS OPTIONAL_FRAC OPTIONAL_EXP`,å°±åƒæœ‰ä¸‰ä¸ªç«–ç€çš„ç è¡¨ï¼Œè½¬åˆ°è°æ˜¯è°ã€‚

:::

## ç¬¦å·é€Ÿè®°æ³•

1. One or more instances:  $r^{+} \stackrel{\text { def }}{=} r r^{*}$
2. Zero or one instance: $r ? \stackrel{\text { def }}{=} r \mid \varepsilon$
3. Character classes: $[a-z] \stackrel{\text { def }}{=} a|b| c|\ldots| z,[0-9] \stackrel{\text { def }}{=} 0|1| \ldots \mid 9$

![1667963826783.png](https://pic.hanjiaming.com.cn/2022/11/09/e780659e5ce27.png)





