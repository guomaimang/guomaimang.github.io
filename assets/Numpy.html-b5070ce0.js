import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as s,e}from"./app-0cf55f2d.js";const t={},p=e(`<h1 id="numpy" tabindex="-1"><a class="header-anchor" href="#numpy" aria-hidden="true">#</a> Numpy</h1><h2 id="what-is-numpy" tabindex="-1"><a class="header-anchor" href="#what-is-numpy" aria-hidden="true">#</a> What is Numpy</h2><p>NumPy是Python中科学计算的核心库。诸如pandas、SciPy和Matplotlib等Python基础库都建立在NumPy的API之上。机器学习库也是如此，如TensorFlow和scikit-learn，它们使用NumPy数组作为输入。任何在Python中使用数字的人都会接触到NumPy数组.</p><img src="https://pic.hanjiaming.com.cn/2022/06/14/e3af983ebb335.png" alt="1655207474267.png" style="zoom:50%;"><p>Numpy (Numerical Python的缩写)：</p><ul><li>一个开源的Python科学计算库</li><li>使用Numpy可以方便的使用数组、炬年进行计算</li><li>包含线性代数、傅里叶变换、随机数生成等大量函数</li></ul><h2 id="why-numpy" tabindex="-1"><a class="header-anchor" href="#why-numpy" aria-hidden="true">#</a> Why Numpy</h2><p>对于同样的数值计算任务，使用Numpy比直接编写Python代码实现，优点：</p><ul><li>代码更简洁：Numpy直接以数组、矩阵为粒度计算并且支持大量的数学函数，而Python需要用for循环从底层实现</li><li>性能更高效：Numpy的数组存储效率和输入输出计算性能，比Python使用List或者嵌套List好很多 <ul><li>注：(Numpy的数据存储和Python，原生的List是不一样的)</li><li>注：Numpy的大部分代码都是C语言实现的，这是Numpyl比纯Python代码高效的原因</li></ul></li></ul><p><strong>Numpy是Python各种数据科学类库的基础库</strong></p><ul><li>比如SciPy、Scikit-Learn、。Tensorflow、PaddlePaddle等</li><li>如果不会Numpy，这些库的深入理解都会遇到障碍</li></ul><h2 id="numpy-basics" tabindex="-1"><a class="header-anchor" href="#numpy-basics" aria-hidden="true">#</a> Numpy Basics</h2><ul><li>提供操作大型数值数据数组和矩阵的基本例程</li><li>元素表（通常为数字），所有元素类型相同，通过正整数元组索引</li><li>Dimensions are called axes. Number of axes is rank. <ul><li>Coordinates of a point in 3D [1, 2, 1] is an array of rank 1 (1 axis). That axis has a length of 3.</li><li>A 2⨉3 matrix [[1.0, 1.0, 2.0], [0.0, 2.0, 1.0]] has a rank of 2 (or 2 dimensions). First dimension (or axis) has length = 2; Second dimension (or axis) has length = 3</li></ul></li><li><strong>Assignment of Numpy Array is just a Reference Copy</strong></li></ul><h2 id="numpy-array-dimensions" tabindex="-1"><a class="header-anchor" href="#numpy-array-dimensions" aria-hidden="true">#</a> Numpy Array Dimensions</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token number">42.</span><span class="token punctuation">)</span>
<span class="token comment"># a: 0 () float64</span>
b <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># b: 1 (5,) int64</span>
c <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># c: 2 (2, 3) int64</span>
d <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># d: 3 (2, 2, 3) int64</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;a:&#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>ndim<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;b:&#39;</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>ndim<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;c:&#39;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>ndim<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;d:&#39;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>ndim<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;length of d&#39;s first axis =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># length of d&#39;s first axis = 2</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;length of d&#39;s second axis =&quot;</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>d<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment"># length of d&#39;s second axis = 2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cerate-np-array" tabindex="-1"><a class="header-anchor" href="#cerate-np-array" aria-hidden="true">#</a> Cerate np array</h2><h3 id="create-empty-array" tabindex="-1"><a class="header-anchor" href="#create-empty-array" aria-hidden="true">#</a> Create empty array</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
data <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="creating-1d-arrays-from-lists" tabindex="-1"><a class="header-anchor" href="#creating-1d-arrays-from-lists" aria-hidden="true">#</a> Creating 1D arrays from lists</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>python_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>python_list<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([3, 2, 5, 8, 4, 9, 7, 6, 1])
numpy.ndarray
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/14/949323fa20df8.png" alt="1655208610322.png" tabindex="0" loading="lazy"><figcaption>1655208610322.png</figcaption></figure><h3 id="creating-2d-arrays-from-lists" tabindex="-1"><a class="header-anchor" href="#creating-2d-arrays-from-lists" aria-hidden="true">#</a> Creating 2D arrays from lists</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>python_list_of_lists <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>python_list_of_lists<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[3, 2, 5],[9, 7, 1],[4, 3, 6]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="np-zeros" tabindex="-1"><a class="header-anchor" href="#np-zeros" aria-hidden="true">#</a> np.zeros()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 先说行数，再说列数。即先y再x</span>
np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[0., 0., 0.],
        [0., 0., 0.],
        [0., 0., 0.],
        [0., 0., 0.],
        [0., 0., 0.]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="np-random-random" tabindex="-1"><a class="header-anchor" href="#np-random-random" aria-hidden="true">#</a> np.random.random()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[0.88524516, 0.85641352, 0.33463107, 0.53337117],
[0.69933362, 0.09295327, 0.93616428, 0.03601592]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="np-arange" tabindex="-1"><a class="header-anchor" href="#np-arange" aria-hidden="true">#</a> np.arange()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([-3, -2, -1, 0, 1, 2, 3])
array([0, 1, 2, 3])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>这在创建图的x轴方面很好用。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create an array of integers from one to ten</span>
one_to_ten <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span>
doubling_array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">,</span> <span class="token number">512</span><span class="token punctuation">]</span>

<span class="token comment"># Create your scatterplot</span>
plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>one_to_ten<span class="token punctuation">,</span> doubling_array<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3d-4d-arrays" tabindex="-1"><a class="header-anchor" href="#_3d-4d-arrays" aria-hidden="true">#</a> 3D &amp; 4D arrays</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array_1_2D <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array_2_2D <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array_3_2D <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array_3D <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span>array_1_2D<span class="token punctuation">,</span> array_2_2D<span class="token punctuation">,</span> array_3_2D<span class="token punctuation">]</span><span class="token punctuation">)</span>

array_4D <span class="token operator">=</span> <span class="token punctuation">[</span>array_A_3D<span class="token punctuation">,</span> array_B_3D<span class="token punctuation">,</span> array_C_3D<span class="token punctuation">,</span> array_D_3D<span class="token punctuation">,</span> array_E_3D<span class="token punctuation">,</span> array_F_3D<span class="token punctuation">,</span> array_G_3D<span class="token punctuation">,</span> array_H_3D<span class="token punctuation">,</span> array_I_3D<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="create-from-pd" tabindex="-1"><a class="header-anchor" href="#create-from-pd" aria-hidden="true">#</a> Create from pd</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Assign the filename: file</span>
<span class="token builtin">file</span> <span class="token operator">=</span> <span class="token string">&#39;digits.csv&#39;</span>

<span class="token comment"># Read the first 5 rows of the file into a DataFrame: data</span>
data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span><span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Build a numpy array from the DataFrame: data_array</span>
data_array <span class="token operator">=</span> data<span class="token punctuation">.</span>value

<span class="token comment"># Print the datatype of data_array to the shell</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>data_array<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="list-operations" tabindex="-1"><a class="header-anchor" href="#list-operations" aria-hidden="true">#</a> List Operations</h2><p>List Operations can be used on Numpy Array</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
a <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
a<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">type</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="matrix-and-tensor-arrays" tabindex="-1"><a class="header-anchor" href="#matrix-and-tensor-arrays" aria-hidden="true">#</a> Matrix and tensor arrays</h2><ul><li>一维数组中<code>(5,)</code> 和 <code>(,5)</code> 是一样的，一位数组也叫做 向量</li><li>二维数组叫 矩阵</li><li>三维数组叫 张量</li></ul><figure><img src="https://pic.hanjiaming.com.cn/2022/06/15/acadf2ff035bd.png" alt="1655230321345.png" tabindex="0" loading="lazy"><figcaption>1655230321345.png</figcaption></figure><figure><img src="https://pic.hanjiaming.com.cn/2022/06/15/df097e5fbbdd6.png" alt="1655308549835.png" tabindex="0" loading="lazy"><figcaption>1655308549835.png</figcaption></figure><h3 id="shape-获取形状" tabindex="-1"><a class="header-anchor" href="#shape-获取形状" aria-hidden="true">#</a> .shape 获取形状</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>array<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 表示 3行5列
(3, 5)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="flatten-数组一维化" tabindex="-1"><a class="header-anchor" href="#flatten-数组一维化" aria-hidden="true">#</a> .flatten() 数组一维化</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array<span class="token punctuation">.</span>flatten<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([1, 2, 5, 7, 6, 6])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="reshape-重设形状" tabindex="-1"><a class="header-anchor" href="#reshape-重设形状" aria-hidden="true">#</a> .reshape() 重设形状</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/22/58eb422c595ab.png" alt="1655830276336.png" tabindex="0" loading="lazy"><figcaption>1655830276336.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[1, 2, 5],
[7, 6, 6]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="向量转二维数组" tabindex="-1"><a class="header-anchor" href="#向量转二维数组" aria-hidden="true">#</a> 向量转二维数组</h3><p>通常，机器学习模型需要的 X 是二维数组。如果 X是向量，则我们需要将其转为 1列多行 的 二维数组。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>X_bmi <span class="token operator">=</span> X<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> X_bmi<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>(752,) (752,)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>X_bmi <span class="token operator">=</span> X_bmi<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>X_bmi<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>(752, 1)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ndim-维度" tabindex="-1"><a class="header-anchor" href="#ndim-维度" aria-hidden="true">#</a> .ndim 维度</h3><p>获取array的维度</p><h2 id="np-array-type" tabindex="-1"><a class="header-anchor" href="#np-array-type" aria-hidden="true">#</a> np.array type</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>data<span class="token punctuation">.</span>dtype  <span class="token comment">#获取数据类型</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Sample NumPy data types:</p><ul><li>np.int64, np.int32, np.int16, np.int8</li><li>np.float64</li><li>np.float32</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>arr1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>
arr2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>

<span class="token comment"># data.astype()显式转换数据类型</span>
float_arr1 <span class="token operator">=</span> arr1<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>  
float_arr2 <span class="token operator">=</span> arr2<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>arr1<span class="token punctuation">.</span>dtype<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意的是，一个np.array 只有一种数据类型，不一致将发生强制转换。</p><h2 id="indexing-and-slicing" tabindex="-1"><a class="header-anchor" href="#indexing-and-slicing" aria-hidden="true">#</a> Indexing and slicing</h2><ul><li>array[ indexArray ]</li><li>array[ booleanArray ]</li></ul><h3 id="indexing-1d-arrays" tabindex="-1"><a class="header-anchor" href="#indexing-1d-arrays" aria-hidden="true">#</a> Indexing 1D arrays</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="indexing-elements-in-2d" tabindex="-1"><a class="header-anchor" href="#indexing-elements-in-2d" aria-hidden="true">#</a> Indexing elements in 2D</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 先行后列</span>
sudoku_game<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

<span class="token comment"># 取第0行，从0开始数</span>
sudoku_game<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

<span class="token comment"># 取第4列，从0开始数</span>
sudoku_game<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="slicing-1d-arrays" tabindex="-1"><a class="header-anchor" href="#slicing-1d-arrays" aria-hidden="true">#</a> Slicing 1D arrays</h3><img src="https://pic.hanjiaming.com.cn/2022/06/15/136c3b993973f.png" alt="1655307380820.png" style="zoom:67%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
array<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([6, 8])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="slicing-2d-arrays" tabindex="-1"><a class="header-anchor" href="#slicing-2d-arrays" aria-hidden="true">#</a> Slicing 2D arrays</h3><img src="https://pic.hanjiaming.com.cn/2022/06/15/d9a2037c23e04.png" alt="1655307299479.png" style="zoom:40%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sudoku_game<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[0, 0, 2],[0, 0, 7],[0, 8, 3]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意的是</p><ul><li>截取第2列 <code>[:,2]</code></li><li>截取第2行 <code>[2,]</code> 或者 <code>[2,:]</code></li></ul><img src="https://pic.hanjiaming.com.cn/2022/06/15/31c4a1f938ae6.png" alt="1655307430443.png" style="zoom:40%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 设置步长</span>
sudoku_game<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[0, 2],[0, 3]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="axis" tabindex="-1"><a class="header-anchor" href="#axis" aria-hidden="true">#</a> Axis</h2><figure><img src="https://pic.hanjiaming.com.cn/2022/06/15/97565e82b8abe.png" alt="1655307503116.png" tabindex="0" loading="lazy"><figcaption>1655307503116.png</figcaption></figure><h2 id="sort" tabindex="-1"><a class="header-anchor" href="#sort" aria-hidden="true">#</a> Sort</h2><figure><img src="https://pic.hanjiaming.com.cn/2022/06/15/d2fbb1f51d1a8.png" alt="1655307732370.png" tabindex="0" loading="lazy"><figcaption>1655307732370.png</figcaption></figure><h2 id="boolean-calculate" tabindex="-1"><a class="header-anchor" href="#boolean-calculate" aria-hidden="true">#</a> Boolean calculate</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span> bmi <span class="token operator">=</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">21.852</span><span class="token punctuation">,</span> <span class="token number">20.975</span><span class="token punctuation">,</span> <span class="token number">21.75</span> <span class="token punctuation">,</span> <span class="token number">24.747</span><span class="token punctuation">,</span> <span class="token number">21.441</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token operator">&gt;&gt;</span> bmi <span class="token operator">&gt;</span> <span class="token number">21</span>

output<span class="token punctuation">:</span> array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">False</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">bool</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="filter" tabindex="-1"><a class="header-anchor" href="#filter" aria-hidden="true">#</a> Filter</h2><h3 id="boolean-masks" tabindex="-1"><a class="header-anchor" href="#boolean-masks" aria-hidden="true">#</a> Boolean masks</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>one_to_five <span class="token operator">=</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span>
mask <span class="token operator">=</span> one_to_five <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span>
mask
one_to_five<span class="token punctuation">[</span>mask<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([False, True, False, True, False])
array([2, 4])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># with 2d</span>
<span class="token comment"># Create an array which contains row data on the largest tree in tree_census</span>
largest_tree_data <span class="token operator">=</span> tree_census<span class="token punctuation">[</span>tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">51</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>largest_tree_data<span class="token punctuation">)</span>

<span class="token comment"># Slice largest_tree_data to get only the block ID</span>
largest_tree_block_id <span class="token operator">=</span> largest_tree_data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>largest_tree_block_id<span class="token punctuation">)</span>

<span class="token comment"># Create an array which contains row data on all trees with largest_tree_block_id</span>
trees_on_largest_tree_block <span class="token operator">=</span> tree_census<span class="token punctuation">[</span>tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> largest_tree_block_id<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>trees_on_largest_tree_block<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script.py&gt; output:
    [[    61 501882     51      0]]
    [501882]
    [[    60 501882      8      0]
     [    61 501882     51      0]
     [    62 501882      7      0]
     [    63 501882      4      0]
     [    64 501882     15      0]
     [    65 501882      3      0]
     [    66 501882      8      0]
     [    67 501882      6      0]
     [    68 501882      6      0]
     [    69 501882      3      0]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="np-where" tabindex="-1"><a class="header-anchor" href="#np-where" aria-hidden="true">#</a> np.where()</h3><h4 id="返回符合条件的-index" tabindex="-1"><a class="header-anchor" href="#返回符合条件的-index" aria-hidden="true">#</a> 返回符合条件的 index</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create an array of row_indices for trees on block 313879</span>
row_indices <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">313879</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>row_indices<span class="token punctuation">)</span>

<span class="token comment"># Create an array which only contains data for trees on block 313879</span>
block_313879 <span class="token operator">=</span> tree_census<span class="token punctuation">[</span>row_indices<span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>block_313879<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script.py&gt; output:
    (array([921, 922]),)
    [[  1115 313879      3      0]
     [  1116 313879     17      0]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="充当替换功能" tabindex="-1"><a class="header-anchor" href="#充当替换功能" aria-hidden="true">#</a> 充当替换功能</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create and print a 1D array of tree and stump diameters</span>
<span class="token comment"># np.where(condition, x, y) 满足条件(condition)，输出x，不满足输出y, 相当于 java里的三目表达式</span>
trunk_stump_diameters <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tree_census<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>trunk_stump_diameters<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script.py&gt; output:
    [24 20  ...... 6]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="adding-and-removing" tabindex="-1"><a class="header-anchor" href="#adding-and-removing" aria-hidden="true">#</a> Adding and removing</h2><h3 id="concatenating" tabindex="-1"><a class="header-anchor" href="#concatenating" aria-hidden="true">#</a> Concatenating</h3><img src="https://pic.hanjiaming.com.cn/2022/06/22/f18c9d3a2c2e9.png" alt="1655833719669.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>classroom_ids_and_sizes <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
new_classrooms <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>classroom_ids_and_sizes<span class="token punctuation">,</span> new_classrooms<span class="token punctuation">)</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[ 1, 22],
[ 2, 21],
[ 3, 27],
[ 4, 26],
[ 5, 30],
[ 5, 17]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>classroom_ids_and_sizes <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
grade_levels_and_teachers <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;James&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;George&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&quot;Amy&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;Meehir&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>classroom_ids_and_sizes<span class="token punctuation">,</span> grade_levels_and_teachers<span class="token punctuation">)</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[&#39;1&#39;, &#39;22&#39;, &#39;1&#39;, &#39;James&#39;], [&#39;2&#39;, &#39;21&#39;, &#39;1&#39;, &#39;George&#39;], [&#39;3&#39;, &#39;27&#39;, &#39;3&#39;, &#39;Amy&#39;], [&#39;4&#39;, &#39;26&#39;, &#39;3&#39;, &#39;Meehir&#39;]])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/22/2b033ec454c7d.png" alt="1655833871407.png" style="zoom:50%;"><h3 id="deleting-with-np-delete" tabindex="-1"><a class="header-anchor" href="#deleting-with-np-delete" aria-hidden="true">#</a> Deleting with np.delete()</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/22/4d3a4540aa8e4.png" alt="1655833927779.png" tabindex="0" loading="lazy"><figcaption>1655833927779.png</figcaption></figure><p>delete 必须指定 axis，否则将会造成结果一维化。</p><h2 id="summarizing-data" tabindex="-1"><a class="header-anchor" href="#summarizing-data" aria-hidden="true">#</a> Summarizing data</h2><ul><li>np.median(series或np.array)</li><li>np.mean(series或np.array)</li><li>np.max(series或np.array)</li><li>np.quantile</li></ul><div class="hint-container info"><p class="hint-container-title">计算95% 置信空间</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Print the 95% confidence interval</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>quantile<span class="token punctuation">(</span>cv_results<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">0.025</span><span class="token punctuation">,</span> <span class="token number">0.975</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[0.74141863 0.77191915]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><p>还可以</p><ul><li>.sum(axis = 0)</li><li>.min() / .max()</li><li>.cumsum()</li></ul><h3 id="keepdims-true" tabindex="-1"><a class="header-anchor" href="#keepdims-true" aria-hidden="true">#</a> keepdims = True</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a 2D array of total monthly sales across industries</span>
monthly_industry_sales <span class="token operator">=</span> monthly_sales<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> keepdims<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>monthly_industry_sales<span class="token punctuation">)</span>

<span class="token comment"># Add this column as the last column in monthly_sales</span>
monthly_sales_with_total <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>monthly_sales<span class="token punctuation">,</span>monthly_industry_sales<span class="token punctuation">)</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>monthly_sales_with_total<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script.py&gt; output:
    [[36716]
     [37133]
     ......
     [52830]]
    [[ 4134 23925  8657 36716]
     ......
     [ 6630 27797 18403 52830]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cumsum" tabindex="-1"><a class="header-anchor" href="#cumsum" aria-hidden="true">#</a> .cumsum()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Find cumulative monthly sales for each industry</span>
cumulative_monthly_industry_sales <span class="token operator">=</span> monthly_sales<span class="token punctuation">.</span>cumsum<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>cumulative_monthly_industry_sales<span class="token punctuation">)</span>

<span class="token comment"># Plot each industry&#39;s cumulative sales by month as separate lines</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cumulative_monthly_industry_sales<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&quot;Liquor Stores&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cumulative_monthly_industry_sales<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&quot;Restaurants&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cumulative_monthly_industry_sales<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">&quot;Department stores&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;script.py&gt; output:
    [[  4134  23925   8657]
		 ......
     [ 59673 315105 135026]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/28/f1e00181589c7.png" alt="1656354114253.png" style="zoom:33%;"><h2 id="calculate" tabindex="-1"><a class="header-anchor" href="#calculate" aria-hidden="true">#</a> Calculate</h2><h3 id="向量化计算" tabindex="-1"><a class="header-anchor" href="#向量化计算" aria-hidden="true">#</a> 向量化计算</h3><p>使得每个元素都得到计算</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
np_height <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1.73</span><span class="token punctuation">,</span> <span class="token number">1.68</span><span class="token punctuation">,</span> <span class="token number">1.71</span><span class="token punctuation">,</span> <span class="token number">1.89</span><span class="token punctuation">,</span> <span class="token number">1.79</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
np_weight <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">65.4</span><span class="token punctuation">,</span> <span class="token number">59.2</span><span class="token punctuation">,</span> <span class="token number">63.6</span><span class="token punctuation">,</span> <span class="token number">88.4</span><span class="token punctuation">,</span> <span class="token number">68.7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
bmi <span class="token operator">=</span> np_weight <span class="token operator">/</span> np_height <span class="token operator">**</span> <span class="token number">2</span>
<span class="token keyword">for</span> val <span class="token keyword">in</span> bmi <span class="token punctuation">:</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>

output<span class="token punctuation">:</span>
  <span class="token number">21.852</span>
  <span class="token number">20.975</span>
  <span class="token number">21.750</span>
  <span class="token number">24.747</span>
  <span class="token number">21.441</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="函数适用于元素" tabindex="-1"><a class="header-anchor" href="#函数适用于元素" aria-hidden="true">#</a> 函数适用于元素</h3><p>将Python的函数变成适用于np.array的元素的函数</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;NumPy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;is&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;awesome&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token builtin">len</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>变换后</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>vectorized_len <span class="token operator">=</span> np<span class="token punctuation">.</span>vectorize<span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">)</span>
vectorized_len<span class="token punctuation">(</span>array<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([ True, False, True])
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="broadcastable" tabindex="-1"><a class="header-anchor" href="#broadcastable" aria-hidden="true">#</a> Broadcastable</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/08f43dc71e62c.png" alt="1656434903814.png" tabindex="0" loading="lazy"><figcaption>1656434903814.png</figcaption></figure><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/b4fe4a8a036a4.png" alt="1656434933377.png" tabindex="0" loading="lazy"><figcaption>1656434933377.png</figcaption></figure><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/4e785fb66be56.png" alt="CleanShot 2022-06-29 at 00.34.34@2x.png" tabindex="0" loading="lazy"><figcaption>CleanShot 2022-06-29 at 00.34.34@2x.png</figcaption></figure><p>一维数组尽管是一维，处理时应看做时1行而不是1列。</p><p>不可广播的应当尝试调整形状</p><h2 id="number-generators" tabindex="-1"><a class="header-anchor" href="#number-generators" aria-hidden="true">#</a> Number generators</h2><h3 id="np-linspace" tabindex="-1"><a class="header-anchor" href="#np-linspace" aria-hidden="true">#</a> np.linspace()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 从0-20以平均分布取样，递增的，首位0 末位20，取样25个</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[ 0.          0.40816327  0.81632653  1.2244898   1.63265306  2.04081633
  2.44897959  2.85714286  3.26530612  3.67346939  4.08163265  4.48979592
  4.89795918  5.30612245  5.71428571  6.12244898  6.53061224  6.93877551
  7.34693878  7.75510204  8.16326531  8.57142857  8.97959184  9.3877551
  9.79591837 10.20408163 10.6122449  11.02040816 11.42857143 11.83673469
 12.24489796 12.65306122 13.06122449 13.46938776 13.87755102 14.28571429
 14.69387755 15.10204082 15.51020408 15.91836735 16.32653061 16.73469388
 17.14285714 17.55102041 17.95918367 18.36734694 18.7755102  19.18367347
 19.59183673 20.        ]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 从0-20以平均分布取样，递增的，首位1 末位20，取样20个</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10. 11. 12. 13. 14. 15. 16. 17. 18. 19. 20.]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="np-arange-1" tabindex="-1"><a class="header-anchor" href="#np-arange-1" aria-hidden="true">#</a> np.arange()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>explanatory_data <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;length_cm&quot;</span><span class="token punctuation">:</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>	length_cm
0 20
1 21
2 22
...
20 40
...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="random-generators" tabindex="-1"><a class="header-anchor" href="#random-generators" aria-hidden="true">#</a> Random generators</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np

np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>seed<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token comment"># Starting from a seed</span>
np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># Pseudo-random numbers</span>

coin <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># Randomly generate 0 or 1</span>
jitter <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>normal<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token builtin">len</span><span class="token punctuation">(</span>brfss<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># 以正态分布(mean = 0, sd = 2)产生随机数series</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="read-file" tabindex="-1"><a class="header-anchor" href="#read-file" aria-hidden="true">#</a> Read file</h2><p>Much of the time you will need to import datasets which have different datatypes in different columns; one column may contain strings and another floats, for example. The function <code>np.loadtxt()</code> will freak at this.</p><p>There is also another function <code>np.recfromcsv()</code> that behaves similarly to <code>np.genfromtxt()</code>, except that its default <code>dtype</code> is <code>None</code>. In this exercise, you&#39;ll practice using this to achieve the same result.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>data <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">&#39;\\t&#39;</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">str</span><span class="token punctuation">)</span>
data_float <span class="token operator">=</span> np<span class="token punctuation">.</span>loadtxt<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">&quot;\\t&quot;</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token builtin">float</span><span class="token punctuation">,</span> skiprows<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>

data <span class="token operator">=</span> np<span class="token punctuation">.</span>genfromtxt<span class="token punctuation">(</span><span class="token string">&#39;titanic.csv&#39;</span><span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">,</span> names<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> dtype<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
d <span class="token operator">=</span> np<span class="token punctuation">.</span>recfromcsv<span class="token punctuation">(</span><span class="token builtin">file</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>或者都使用 with open 打开</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;logo.npy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	logo_rgb_array <span class="token operator">=</span> np<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Save arrays in many formats:</p><ul><li>.csv</li><li>.txt</li><li>.pkl</li><li>.npy</li></ul><h2 id="rgb-arrays" tabindex="-1"><a class="header-anchor" href="#rgb-arrays" aria-hidden="true">#</a> RGB arrays</h2><h3 id="loading-npy-files" tabindex="-1"><a class="header-anchor" href="#loading-npy-files" aria-hidden="true">#</a> Loading .npy files</h3><img src="https://pic.hanjiaming.com.cn/2022/06/29/33100e9490f47.png" alt="1656438801552.png" style="zoom:33%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;logo.npy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;rb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
  logo_rgb_array <span class="token operator">=</span> np<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
  plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">)</span>
  plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="examining-rgb-data" tabindex="-1"><a class="header-anchor" href="#examining-rgb-data" aria-hidden="true">#</a> Examining RGB data</h3><ul><li>RGB图片是一个三维数组 <ul><li>x = 图片长度</li><li>y = 图片宽度</li><li>z = 3, 存放RGB三个值</li></ul></li><li>RGB越大颜色越大 <ul><li>[255,255,255] 表示纯白</li><li>[0,0,0] 表示纯无/纯黑/纯透明</li></ul></li></ul><img src="https://pic.hanjiaming.com.cn/2022/06/29/c53451e8226b8.png" alt="1656438826776.png" style="zoom:50%;"><img src="https://pic.hanjiaming.com.cn/2022/06/29/985f3779eee11.png" alt="1656438889305.png" style="zoom:33%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>red_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> green_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> blue_array<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>(array([255, 255, 255, ..., 255, 255, 255]),
array([255, 255, 255, ..., 255, 255, 255]),
array([255, 255, 255, ..., 255, 255, 255]))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="updating-rgb-data" tabindex="-1"><a class="header-anchor" href="#updating-rgb-data" aria-hidden="true">#</a> Updating RGB data</h3><h4 id="案例1" tabindex="-1"><a class="header-anchor" href="#案例1" aria-hidden="true">#</a> 案例1</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>dark_logo_array <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>logo_rgb_array <span class="token operator">==</span> <span class="token number">255</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> logo_rgb_array<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>dark_logo_array<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/38ee94a255fe9.png" alt="1656439001104.png" style="zoom:67%;"><h4 id="案例2" tabindex="-1"><a class="header-anchor" href="#案例2" aria-hidden="true">#</a> 案例2</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Reduce every value in rgb_array by 50 percent</span>
darker_rgb_array <span class="token operator">=</span> rgb_array <span class="token operator">*</span> <span class="token number">0.5</span>

<span class="token comment"># Convert darker_rgb_array into an array of integers</span>
darker_rgb_int_array <span class="token operator">=</span> darker_rgb_array<span class="token punctuation">.</span>astype<span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>darker_rgb_int_array<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/e6578a3d3b68d.png" alt="1656440802833.png" style="zoom:33%;"><h3 id="saving-arrays-as-npy-files" tabindex="-1"><a class="header-anchor" href="#saving-arrays-as-npy-files" aria-hidden="true">#</a> Saving arrays as .npy files</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;dark_logo.npy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;wb&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
	np<span class="token punctuation">.</span>save<span class="token punctuation">(</span>f<span class="token punctuation">,</span> dark_logo_array<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="array-acrobatics" tabindex="-1"><a class="header-anchor" href="#array-acrobatics" aria-hidden="true">#</a> Array acrobatics</h2><h3 id="flipping-an-array" tabindex="-1"><a class="header-anchor" href="#flipping-an-array" aria-hidden="true">#</a> Flipping an array</h3><ul><li>可指定axis，表示在哪一个维度上进行对称交换</li><li>不指定axis 则所有轴都转换，相当于中心对称</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>flipped_logo <span class="token operator">=</span> np<span class="token punctuation">.</span>flip<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>flipped_logo<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://pic.hanjiaming.com.cn/2022/06/29/c53451e8226b8.png" alt="1656447576765.png" style="zoom:50%;"><img src="https://pic.hanjiaming.com.cn/2022/06/29/663c69c3ed63c.png" alt="1656447584981.png" style="zoom:50%;"></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>flipped_rows_logo <span class="token operator">=</span> np<span class="token punctuation">.</span>flip<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>flipped_rows_logo<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/3a7812604646a.png" alt="1656447720395.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>flipped_colors_logo <span class="token operator">=</span> np<span class="token punctuation">.</span>flip<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>flipped_colors_logo<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/81ae496ec931e.png" alt="1656448006755.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>flipped_except_colors_logo <span class="token operator">=</span> np<span class="token punctuation">.</span>flip<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>flipped_except_colors_logo<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/165b8377c6a78.png" alt="1656448043029.png" style="zoom:50%;"><h3 id="transposing-an-array" tabindex="-1"><a class="header-anchor" href="#transposing-an-array" aria-hidden="true">#</a> Transposing an array</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/27c28e9271316.png" alt="1656448151676.png" tabindex="0" loading="lazy"><figcaption>1656448151676.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>transposed_logo <span class="token operator">=</span> np<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>logo_rgb_array<span class="token punctuation">,</span> axes<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>transposed_logo<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/bc7af2cca7e24.png" alt="1656448184853.png" style="zoom:50%;"><h2 id="help" tabindex="-1"><a class="header-anchor" href="#help" aria-hidden="true">#</a> help()</h2><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/64e703d7d1528.png" alt="1656439060398.png" tabindex="0" loading="lazy"><figcaption>1656439060398.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Display the documentation for .astype()</span>
<span class="token builtin">help</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>ndarray<span class="token punctuation">.</span>astype<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="stacking-and-splitting" tabindex="-1"><a class="header-anchor" href="#stacking-and-splitting" aria-hidden="true">#</a> Stacking and splitting</h2><p>理解多维数组应当以建筑中的横梁来看看待数据。</p><h3 id="slicing-dimensions" tabindex="-1"><a class="header-anchor" href="#slicing-dimensions" aria-hidden="true">#</a> Slicing dimensions</h3><p>请见 [Examining RGB data](#Examining RGB data)</p><h3 id="splitting-arrays" tabindex="-1"><a class="header-anchor" href="#splitting-arrays" aria-hidden="true">#</a> Splitting arrays</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 拆包</span>
red_array<span class="token punctuation">,</span> green_array<span class="token punctuation">,</span> blue_array <span class="token operator">=</span> np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>rgb<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
red_array
red_array<span class="token punctuation">.</span>shape
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([ [[255], [255], [255]],  [[255], [ 0], [ 0]],  [[255], [ 0], [ 0]]])
(3, 3, 1)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>当我们分割一个数组时，产生的数组的维数与原数组相同，因为含义由z条状数据变成y条状数据，因此需要 Trailing dimensions。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>red_array_2D <span class="token operator">=</span> red_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
red_array_2D
red_array_2D<span class="token punctuation">.</span>shape
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>array([[255, 255, 255], [255, 0, 0], [ 0, 0, 0]])
(3, 3)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="stacking-arrays" tabindex="-1"><a class="header-anchor" href="#stacking-arrays" aria-hidden="true">#</a> Stacking arrays</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/4690b51faf9ff.png" alt="1656448948070.png" tabindex="0" loading="lazy"><figcaption>1656448948070.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>red_array <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span> <span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>int32<span class="token punctuation">)</span>
green_array <span class="token operator">=</span> green_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span> <span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
blue_array <span class="token operator">=</span> blue_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">,</span> <span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

stacked_rgb <span class="token operator">=</span> np<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>red_array<span class="token punctuation">,</span> green_array<span class="token punctuation">,</span> blue_array<span class="token punctuation">]</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>stacked_rgb<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/29/dc619fc2a2186.png" alt="1656449200999.png" tabindex="0" loading="lazy"><figcaption>1656449200999.png</figcaption></figure><details class="hint-container details"><summary>查看另一个案例</summary><ul><li>上方的案例，每一个z轴是一个数据组，因此axis = 2</li><li>下面的案例，每一个y轴是一个数据组，因此axis = 1</li><li>记住怎么拆的就怎么合</li></ul><p>monthly_sales的第一个维度是三个行业的单月销售额的行，第二个维度是单个行业的月度销售数据的列。你的任务是将这些数据分割成季度销售数据，并将季度销售数据堆叠起来，使新的第三维代表季度销售的四个二维数组。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Split monthly_sales into quarterly data</span>
q1_sales<span class="token punctuation">,</span> q2_sales<span class="token punctuation">,</span> q3_sales<span class="token punctuation">,</span> q4_sales <span class="token operator">=</span> np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>monthly_sales<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>

<span class="token comment"># Print q1_sales</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>q1_sales<span class="token punctuation">)</span>

<span class="token comment"># Stack the four quarterly sales arrays</span>
quarterly_sales <span class="token operator">=</span> np<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>q1_sales<span class="token punctuation">,</span> q2_sales<span class="token punctuation">,</span> q3_sales<span class="token punctuation">,</span> q4_sales<span class="token punctuation">]</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>quarterly_sales<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><details class="hint-container details"><summary>查看莫奈的画 蓝色加深案例</summary><p>也许你想更好地理解莫奈对蓝色的使用。你的任务是创建一个莫奈rgb_array的版本，通过使它们变得更蓝来强调画中使用大量蓝色的部分你将在这个练习中执行这个任务的分割部分，在下一个练习中执行堆叠部分。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Split rgb_array into red, green, and blue arrays</span>
red_array<span class="token punctuation">,</span> green_array<span class="token punctuation">,</span> blue_array <span class="token operator">=</span> np<span class="token punctuation">.</span>split<span class="token punctuation">(</span>rgb_array<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># Create emphasized_blue_array</span>
emphasized_blue_array <span class="token operator">=</span> np<span class="token punctuation">.</span>where<span class="token punctuation">(</span>blue_array <span class="token operator">&gt;</span> blue_array<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">,</span> blue_array<span class="token punctuation">)</span>

<span class="token comment"># Print the shape of emphasized_blue_array</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>emphasized_blue_array<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>

<span class="token comment"># Remove the trailing dimension from emphasized_blue_array</span>
emphasized_blue_array_2D <span class="token operator">=</span> emphasized_blue_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token number">675</span><span class="token punctuation">,</span><span class="token number">844</span><span class="token punctuation">)</span>

<span class="token comment"># Print the shapes of blue_array and emphasized_blue_array_2D</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>blue_array<span class="token punctuation">.</span>shape<span class="token punctuation">,</span> emphasized_blue_array_2D<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>

<span class="token comment"># Reshape red_array and green_array</span>
red_array_2D <span class="token operator">=</span> red_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">675</span><span class="token punctuation">,</span> <span class="token number">844</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
green_array_2D <span class="token operator">=</span> green_array<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">675</span><span class="token punctuation">,</span> <span class="token number">844</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment"># Stack red_array_2D, green_array_2D, and emphasized_blue_array_2D</span>
emphasized_blue_monet <span class="token operator">=</span> np<span class="token punctuation">.</span>stack<span class="token punctuation">(</span><span class="token punctuation">[</span>red_array_2D<span class="token punctuation">,</span> green_array_2D<span class="token punctuation">,</span> emphasized_blue_array_2D<span class="token punctuation">]</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>emphasized_blue_monet<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/29/d9273b755fa44.png" alt="1656451550115.png" style="zoom:50%;"></details><img src="https://pic.hanjiaming.com.cn/2022/06/29/9a0d67ca3340b.png" alt="1656451664803.png" style="zoom:50%;">`,223),o=[p];function i(c,l){return a(),s("div",null,o)}const d=n(t,[["render",i],["__file","Numpy.html.vue"]]);export{d as default};
