import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as r,a,b as n,d as s,e as c}from"./app-b51b4849.js";const l={},d=c(`<h1 id="_304-not-modified" tabindex="-1"><a class="header-anchor" href="#_304-not-modified" aria-hidden="true">#</a> 304 Not Modified</h1><h2 id="相关标签头" tabindex="-1"><a class="header-anchor" href="#相关标签头" aria-hidden="true">#</a> 相关标签头</h2><p>Last-Modified 与If-Modified-Since 都是标准的HTTP请求头标签，用于记录页面的最后修改时间。</p><ul><li>Last-Modified 是由服务器发送给客户端的HTTP请求头标签。</li><li>If-Modified-Since 则是由客户端发送给服务器的HTTP请求头标签。</li><li>Expired 是server用于指定缓存过期时间的标签。</li></ul><h2 id="确定最后修改时间" tabindex="-1"><a class="header-anchor" href="#确定最后修改时间" aria-hidden="true">#</a> 确定最后修改时间</h2><p>服务器确认文件的最后修改时间，然后包含到response。这可以通过 File 的方法得到，尽管需要一些处理。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">long</span> millisec <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Date</span> dt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>millisec<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> dt<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="实现" tabindex="-1"><a class="header-anchor" href="#实现" aria-hidden="true">#</a> 实现</h2><p>如下图所示。</p><img src="https://pic.hanjiaming.com.cn/2022/04/14/e160a548909a2.png" alt="1649939333143.png" style="zoom:50%;"><h2 id="tag-expired" tabindex="-1"><a class="header-anchor" href="#tag-expired" aria-hidden="true">#</a> Tag: Expired</h2><p>设定client cache过期时间。Server 默认指定为 14天后。</p><h2 id="reference" tabindex="-1"><a class="header-anchor" href="#reference" aria-hidden="true">#</a> Reference</h2>`,13),p={href:"https://blog.csdn.net/lhl1124281072/article/details/80067764",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.yiibai.com/java_io/file.lastmodified.html",target:"_blank",rel:"noopener noreferrer"};function u(f,m){const e=i("ExternalLinkIcon");return o(),r("div",null,[d,a("p",null,[a("a",p,[n("https://blog.csdn.net/lhl1124281072/article/details/80067764"),s(e)])]),a("p",null,[a("a",h,[n("https://www.yiibai.com/java_io/file.lastmodified.html"),s(e)])])])}const v=t(l,[["render",u],["__file","304-Not-Modified.html.vue"]]);export{v as default};
