import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c,a as n,b as a,d as t,e as p}from"./app-7ddc3302.js";const l={},u=n("h1",{id:"seaborn-datav-std",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#seaborn-datav-std","aria-hidden":"true"},"#"),a(" Seaborn DataV Std.")],-1),r=n("p",null,"作者：韩佳明Hirsun",-1),d=n("p",null,"笔者认为，seaborn可作为数据可视化的首选。",-1),k=n("figure",null,[n("img",{src:"https://pic.hanjiaming.com.cn/2022/06/08/2e1cc97196232.png",alt:"1654680752027.png",tabindex:"0",loading:"lazy"}),n("figcaption",null,"1654680752027.png")],-1),g={href:"https://seaborn.pydata.org/examples/index.html",target:"_blank",rel:"noopener noreferrer"},m=p(`<hr><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>基于Pandas和matplotlib</p><p>x轴和y轴可以相互调换。</p><img src="https://pic.hanjiaming.com.cn/2022/02/03/1f38070e1df6f.png" alt="1643832171224.png" style="zoom:50%;"><h3 id="use-default" tabindex="-1"><a class="header-anchor" href="#use-default" aria-hidden="true">#</a> Use default</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># with dataframe</span>
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;masculinity.csv&quot;</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;how_masculine&quot;</span><span class="token punctuation">,</span>data<span class="token operator">=</span>df<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># with list</span>
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

height <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">]</span>
weight <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">]</span>
sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span>height<span class="token punctuation">,</span> y<span class="token operator">=</span>weight<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># 同样可以把matplotlib设置成sns的默认样式</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="why" tabindex="-1"><a class="header-anchor" href="#why" aria-hidden="true">#</a> Why?</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/2d5bfde337ef8.png" alt="1643911321290.png" tabindex="0" loading="lazy"><figcaption>1643911321290.png</figcaption></figure><h2 id="scatter-plot" tabindex="-1"><a class="header-anchor" href="#scatter-plot" aria-hidden="true">#</a> Scatter plot</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt

height <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">]</span>
weight <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">175</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">165</span><span class="token punctuation">,</span> <span class="token number">154</span><span class="token punctuation">,</span> <span class="token number">172</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">187</span><span class="token punctuation">]</span>
sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span>height<span class="token punctuation">,</span> y<span class="token operator">=</span>weight<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/02/7dc3a9bc481fe.png" alt="1654101155065.png" tabindex="0" loading="lazy"><figcaption>1654101155065.png</figcaption></figure><h2 id="count-plot" tabindex="-1"><a class="header-anchor" href="#count-plot" aria-hidden="true">#</a> count plot</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&quot;masculinity.csv&quot;</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;how_masculine&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>df<span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/02/e5d7e2fc37fc8.png" alt="1654101252680.png" tabindex="0" loading="lazy"><figcaption>1654101252680.png</figcaption></figure><h2 id="kdeplot" tabindex="-1"><a class="header-anchor" href="#kdeplot" aria-hidden="true">#</a> kdeplot</h2><h3 id="统计单变量密度" tabindex="-1"><a class="header-anchor" href="#统计单变量密度" aria-hidden="true">#</a> 统计单变量密度</h3><p>kdeplot 更丝滑</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># bw_adjust 指定过拟合</span>
sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">(</span>data<span class="token operator">=</span>tips<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span> bw_adjust<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/08/a46c1176d4233.png" alt="1654677976562.png" style="zoom:33%;"><h2 id="hue" tabindex="-1"><a class="header-anchor" href="#hue" aria-hidden="true">#</a> hue</h2><p>可以指定hue，这将又增加一个维度，rug指定的列是另一个存放种类的列，采用的列的值的种类是有限的（产品质量好中坏）。相当于把x拆成了多个x.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

hue_colors <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;Yes&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;black&quot;</span><span class="token punctuation">,</span>
              <span class="token string">&quot;No&quot;</span><span class="token punctuation">:</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">}</span>

<span class="token comment"># HTML hex color codes: Green and Grey</span>
<span class="token comment"># hue_colors = {&quot;Yes&quot;: &quot;#808080&quot;,</span>
<span class="token comment"># 							&quot;No&quot;: &quot;#00FF00&quot;}</span>

sns<span class="token punctuation">.</span>scatterplot<span class="token punctuation">(</span>x<span class="token operator">=</span> <span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span> <span class="token string">&quot;tip&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;smoker&quot;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span>hue_colors<span class="token punctuation">,</span> hue_order <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Yes&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> 
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/02/720235ecf060e.png" alt="1654101429643.png" tabindex="0" loading="lazy"><figcaption>1654101429643.png</figcaption></figure><p>例如，对以下数据</p><table><thead><tr><th style="text-align:right;"></th><th style="text-align:right;">decade</th><th style="text-align:right;">category</th><th style="text-align:right;">female_winner</th></tr></thead><tbody><tr><td style="text-align:right;">0</td><td style="text-align:right;">1900</td><td style="text-align:right;">Chemistry</td><td style="text-align:right;">0.000000</td></tr><tr><td style="text-align:right;">1</td><td style="text-align:right;">1900</td><td style="text-align:right;">Literature</td><td style="text-align:right;">0.100000</td></tr><tr><td style="text-align:right;">...</td><td style="text-align:right;">1901</td><td style="text-align:right;">Medicine</td><td style="text-align:right;">0.000000</td></tr><tr><td style="text-align:right;">...</td><td style="text-align:right;">1901</td><td style="text-align:right;">Peace</td><td style="text-align:right;">0.071429</td></tr><tr><td style="text-align:right;">...</td><td style="text-align:right;">1902</td><td style="text-align:right;">Physics</td><td style="text-align:right;">0.076923</td></tr></tbody></table><p>有hue时</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>ax <span class="token operator">=</span> sns<span class="token punctuation">.</span>lineplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&#39;decade&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;female_winner&#39;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&#39;category&#39;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>prop_female_winners<span class="token punctuation">)</span>
ax<span class="token punctuation">.</span>yaxis<span class="token punctuation">.</span>set_major_formatter<span class="token punctuation">(</span>PercentFormatter<span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/01/c7ab7f0bf43e0.png" alt="1654016180008.png" style="zoom:50%;"><p>无 hue时</p><img src="https://pic.hanjiaming.com.cn/2022/06/01/97138ae3c4a1a.png" alt="1654016289619.png" style="zoom:50%;"><h2 id="relplot" tabindex="-1"><a class="header-anchor" href="#relplot" aria-hidden="true">#</a> relplot</h2><p>relplot() lets you create subplots in a single figure</p><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/b44c429d2b006.png" alt="1654237490869.png" tabindex="0" loading="lazy"><figcaption>1654237490869.png</figcaption></figure><h3 id="row-col" tabindex="-1"><a class="header-anchor" href="#row-col" aria-hidden="true">#</a> row &amp; col</h3><ul><li>col 和 row 用于创建子图</li><li>hue 用于在同一个图中添加一个新列以区分，这是与col 和 row区分的</li></ul><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/66ba8c4e49eb1.png" alt="1654237680409.png" tabindex="0" loading="lazy"><figcaption>1654237680409.png</figcaption></figure><h3 id="size" tabindex="-1"><a class="header-anchor" href="#size" aria-hidden="true">#</a> size</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt 

sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span> x<span class="token operator">=</span> <span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span> <span class="token string">&quot;tip&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span> <span class="token string">&quot;scatter&quot;</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/986dd4f55f818.png" alt="1654238298996.png" tabindex="0" loading="lazy"><figcaption>1654238298996.png</figcaption></figure><h3 id="style" tabindex="-1"><a class="header-anchor" href="#style" aria-hidden="true">#</a> style</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/e7ed61c8accda.png" alt="1654238365181.png" tabindex="0" loading="lazy"><figcaption>1654238365181.png</figcaption></figure><h3 id="transparency" tabindex="-1"><a class="header-anchor" href="#transparency" aria-hidden="true">#</a> transparency</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/6a3a399ed30a0.png" alt="1654238397371.png" tabindex="0" loading="lazy"><figcaption>1654238397371.png</figcaption></figure><h3 id="size-1" tabindex="-1"><a class="header-anchor" href="#size-1" aria-hidden="true">#</a> size</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Import Matplotlib and Seaborn</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

<span class="token comment"># Create scatter plot of horsepower vs. mpg</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;horsepower&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;mpg&quot;</span><span class="token punctuation">,</span> 
            data<span class="token operator">=</span>mpg<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;scatter&quot;</span><span class="token punctuation">,</span> 
            size<span class="token operator">=</span><span class="token string">&quot;cylinders&quot;</span><span class="token punctuation">,</span>
            hue <span class="token operator">=</span> <span class="token string">&quot;cylinders&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Show plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/03/eb67e7868e214.png" alt="1654237899596.png" style="zoom:50%;"><h3 id="dash-和-maker" tabindex="-1"><a class="header-anchor" href="#dash-和-maker" aria-hidden="true">#</a> dash 和 maker</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/2985058fe4751.png" alt="1654238532711.png" tabindex="0" loading="lazy"><figcaption>1654238532711.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Import Matplotlib and Seaborn</span>
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns

<span class="token comment"># Add markers and make each line have the same style</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;model_year&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;horsepower&quot;</span><span class="token punctuation">,</span> 
            data<span class="token operator">=</span>mpg<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;line&quot;</span><span class="token punctuation">,</span> 
            ci<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> style<span class="token operator">=</span><span class="token string">&quot;origin&quot;</span><span class="token punctuation">,</span> 
            hue<span class="token operator">=</span><span class="token string">&quot;origin&quot;</span><span class="token punctuation">,</span>
            dashes <span class="token operator">=</span> <span class="token boolean">False</span><span class="token punctuation">,</span>
            markers <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token comment"># Show plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/03/11082289e0fde.png" alt="1654238118436.png" style="zoom:33%;"><h3 id="line-with-regplot" tabindex="-1"><a class="header-anchor" href="#line-with-regplot" aria-hidden="true">#</a> line with regplot</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/dc56f07d35a64.png" alt="1654238596451.png" tabindex="0" loading="lazy"><figcaption>1654238596451.png</figcaption></figure><ul><li>阴影区域是置信区间</li><li>95% condent that the mean is within thisinterval</li><li>表示我们估计的不确定性</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># 用标准差代替置信区间</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;hour&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;NO_2&quot;</span><span class="token punctuation">,</span>data<span class="token operator">=</span>air_df<span class="token punctuation">,</span>kind<span class="token operator">=</span><span class="token string">&quot;line&quot;</span><span class="token punctuation">,</span>ci<span class="token operator">=</span><span class="token string">&quot;sd&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Turning off confidence interval</span>
sns<span class="token punctuation">.</span>relplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;hour&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;NO_2&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>air_df<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;line&quot;</span><span class="token punctuation">,</span> ci<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="catplot" tabindex="-1"><a class="header-anchor" href="#catplot" aria-hidden="true">#</a> catplot</h2><p>区分 categorical value (类化值) 和 quantified value(量化值)，后期还会有时间值。</p><p>catplot 用于 创建分类图。通常一个轴 是量化值列。一个轴是类化值列。</p><ul><li>Same advantages of relplot()</li><li>Easily create subplots with col= and row=</li></ul><h3 id="countplot" tabindex="-1"><a class="header-anchor" href="#countplot" aria-hidden="true">#</a> countplot</h3><p>只需要指定一个轴，另一个轴显示x的每个类的个数。</p><p>当然，也可以指定y。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;how_masculine&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>masculinity_data<span class="token punctuation">)</span>
<span class="token comment"># 等价于</span>
sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;how_masculine&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>masculinity_data<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;count&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/73bd6818af819.png" alt="1654241933070.png" tabindex="0" loading="lazy"><figcaption>1654241933070.png</figcaption></figure><h3 id="barplot" tabindex="-1"><a class="header-anchor" href="#barplot" aria-hidden="true">#</a> barplot</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;day&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span>data<span class="token operator">=</span>tips<span class="token punctuation">,</span>kind<span class="token operator">=</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># 可以使用 ci = None 来删去误差线</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/03/aa4f6fef8865a.png" alt="1654241988121.png" tabindex="0" loading="lazy"><figcaption>1654241988121.png</figcaption></figure><ul><li>Lines(也叫误差线) show 95% confidence intervals for the mean</li><li>Shows uncertainty about our estimate</li><li>Assumes our data is a random sample</li></ul><img src="https://pic.hanjiaming.com.cn/2022/06/03/c2322951c01a1.png" alt="1654243411452.png" style="zoom:50%;"><p><a href="confidence-intervals">什么是置信区间</a></p><h3 id="boxplot" tabindex="-1"><a class="header-anchor" href="#boxplot" aria-hidden="true">#</a> boxplot</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span>y<span class="token operator">=</span><span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span>data<span class="token operator">=</span>tips<span class="token punctuation">,</span>kind<span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span>order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;Dinner&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lunch&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/04/51cf04ddebf69.png" alt="1654322697562.png" style="zoom:50%;">`,75),h={href:"https://zhuanlan.zhihu.com/p/147645727",target:"_blank",rel:"noopener noreferrer"},v=p(`<ul><li>第一四分位数 (Q1)，又称“较小四分位数”，等于该样本中所有数值由小到大排列后第25%的数字。</li><li>第二四分位数 (Q2)，又称“中位数”，等于该样本中所有数值由小到大排列后第50%的数字。</li><li>第三四分位数 (Q3)，又称“较大四分位数”，等于该样本中所有数值由小到大排列后第75%的数字。</li><li>第三四分位数与第一四分位数的差距又称四分位距（IQR）。</li></ul><p><strong>箱体图的组成</strong>如图所示，</p><ul><li>上边缘，是上四分位数加上1.5倍的箱体；</li><li>下边缘是下四分位数减去1.5倍的箱体；</li><li>数据在上边缘以上或者下边缘以下，就称为离群值。</li><li>上箱体为上四分位数；下箱体为下四分位数；</li><li>箱体长度为上四分位数减去下四分位数。</li></ul><img src="https://pic.hanjiaming.com.cn/2022/06/04/97c399913e343.png" alt="1654323351446.png" style="zoom:50%;"><ul><li>参数 <code>sym = &quot;&quot;</code>：去除离群值的展示</li><li>参数<code>whis</code><ul><li>By default, the whiskers extend to 1.5 * the interquartile range</li><li>Make them extend to 2.0 * IQR: whis=2.0</li><li>Show the 5th and 95th percentiles: whis=[5, 95]</li><li>Show min and max values: whis=[0, 100]</li></ul></li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;time&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;total_bill&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>tips<span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;box&quot;</span><span class="token punctuation">,</span> whis<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/04/103ad127f1b40.png" alt="1654322864343.png" style="zoom:50%;"><h3 id="pointplot" tabindex="-1"><a class="header-anchor" href="#pointplot" aria-hidden="true">#</a> pointplot</h3><ul><li>Points show mean of quantitative variable</li><li>Vertical lines show 95% con,dence intervals</li></ul><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/80de90538f003.png" alt="1654323543619.png" tabindex="0" loading="lazy"><figcaption>1654323543619.png</figcaption></figure><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/3e9ca07f0bb92.png" alt="1654323593081.png" tabindex="0" loading="lazy"><figcaption>1654323593081.png</figcaption></figure><p>Both show:</p><ul><li>Mean of quantitative variable</li><li>95% con,dence intervals for the mean</li></ul><p>Differences:</p><ul><li>Line plot has quantitative variable (usually time) on x-axis</li><li>Point plot has categorical variable on x-axis</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>catplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;masculinity_important&quot;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>masculinity_data<span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;feel_masculine&quot;</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&quot;point&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/9e7b4ea3c1477.png" alt="1654323666507.png" tabindex="0" loading="lazy"><figcaption>1654323666507.png</figcaption></figure><ul><li>参数 <code>join=False</code>： 取消误差线的显示</li><li><code>estimator = numpy.median </code>: 由于一个x可能对应多个y，不设置该参数时表示使用平平均值。设置后可以将点位改为中位数。</li><li>capsize=0.2 设置盖顶横线的长度</li><li><code>ci = &quot;None&quot;</code> 关闭显示置信区间</li></ul><h2 id="displot" tabindex="-1"><a class="header-anchor" href="#displot" aria-hidden="true">#</a> displot</h2><p>相当于matplotlib的hist</p><p>displot将 rugplot(),kdeplot()和matplotlib的hist和三为一</p><ul><li>适用于画出某一列区间分布</li><li>比如某一列是温度，图表将温度自动分好区间，并统计个数，将每个区间的个数呈现在y上</li><li>统计的值必须是数值或者时间（连续的值）</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Display a Seaborn distplot</span>
<span class="token comment"># 只接受一个DF sns.distplot(DF)</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;Award_Amount&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># Clear the distplot</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/1eb6afec6e899.png" alt="1643832395576.png" style="zoom:50%;"><h3 id="common-parameters" tabindex="-1"><a class="header-anchor" href="#common-parameters" aria-hidden="true">#</a> Common parameters</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/1887aea2ef774.png" alt="CleanShot 2022-02-03 at 04.08.54@2x.png" tabindex="0" loading="lazy"><figcaption>CleanShot 2022-02-03 at 04.08.54@2x.png</figcaption></figure><p>可以对自变量使用限制区间，比如xlim=（0，25000）</p><h2 id="regression-plots" tabindex="-1"><a class="header-anchor" href="#regression-plots" aria-hidden="true">#</a> Regression Plots</h2><p>regplot 和 lmplot 几乎完全一样，但是</p><ul><li>regplot 没有参数 aspect， 但是 x 轴宽度会自适应</li><li>regplot 没有参数 row， 不能一次性绘制多个图</li></ul><h3 id="regplot" tabindex="-1"><a class="header-anchor" href="#regplot" aria-hidden="true">#</a> regplot</h3><ul><li>给定DFx，DFy，将DFx对应的DFy的值呈现出来</li><li>一个x和一个y确定一个点或者多个点</li><li>index有序，DFx呈现会自动排序</li><li>用于表示大量相对无规律值的分布特点</li></ul><p>统计的值可以是数值或者时间（连续的值），也可以是 Categorical values</p><p><strong>用来基于已有数据在图像中展现出回归直线</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create an lmplot of premiums vs. insurance_losses</span>

<span class="token comment"># 一次只画一个数据集</span>
<span class="token comment"># 可以在下面指定参数 marker=&#39;+&#39;</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token string">&quot;premiums&quot;</span><span class="token punctuation">,</span>x <span class="token operator">=</span> <span class="token string">&#39;insurance_losses&#39;</span><span class="token punctuation">,</span> data <span class="token operator">=</span> df<span class="token punctuation">)</span>

<span class="token comment"># Display the second plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/38593d0ae8d02.png" alt="1643832742701.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Plotting the age of Nobel Prize winners</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token string">&quot;year&quot;</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> data <span class="token operator">=</span> nobel<span class="token punctuation">,</span> lowess<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> 
           aspect<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> line_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;color&#39;</span> <span class="token punctuation">:</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment"># lowess 关闭折线区域</span>
<span class="token comment"># aspect 控制x轴长度，即图片的宽度</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/01/0ad8c9f3358a9.png" alt="1654018341077.png" tabindex="0" loading="lazy"><figcaption>1654018341077.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> x <span class="token operator">=</span> <span class="token string">&quot;year&quot;</span><span class="token punctuation">,</span> row<span class="token operator">=</span><span class="token string">&#39;category&#39;</span><span class="token punctuation">,</span> aspect<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> line_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;color&#39;</span> <span class="token punctuation">:</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> data <span class="token operator">=</span> nobel<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/01/dc523aba5757b.png" alt="1654019231611.png" style="zoom:10%;"><h4 id="order" tabindex="-1"><a class="header-anchor" href="#order" aria-hidden="true">#</a> order</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&#39;temp&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;total_rentals&#39;</span><span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/47b4274774cd6.png" alt="1643885588793.png" style="zoom:33%;"><h4 id="x-jitter" tabindex="-1"><a class="header-anchor" href="#x-jitter" aria-hidden="true">#</a> x_jitter</h4><p>Seaborn也支持分类变量的回归绘图。 看看租金在各个月内如何变化可能很有意思。 在此示例中，使用抖动参数使得更容易看到每个月的租赁值的各个分配。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&#39;mnth&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;total_rentals&#39;</span><span class="token punctuation">,</span> x_jitter<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/327ef9c03e826.png" alt="1643885785684.png" style="zoom:33%;"><h4 id="x-estimator" tabindex="-1"><a class="header-anchor" href="#x-estimator" aria-hidden="true">#</a> x_estimator</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&#39;mnth&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;total_rentals&#39;</span><span class="token punctuation">,</span> x_estimator<span class="token operator">=</span>np<span class="token punctuation">.</span>mean<span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>In some cases, an x_estimator can be useful for highlighting trends</p><img src="https://pic.hanjiaming.com.cn/2022/02/03/d665939dc7dfa.png" alt="1643885914138.png" style="zoom:33%;"><h4 id="binning-the-data" tabindex="-1"><a class="header-anchor" href="#binning-the-data" aria-hidden="true">#</a> Binning the data</h4><p>当存在连续变量时，将它们分成不同的 bins 可能会有所帮助。 在这种情况下，我们可以将温度分成四个bins，Seaborn将照顾计算这些垃圾箱并策划结果。 这比尝试使用熊猫或其他一些机制更快地创建箱子。 此快捷功能可以帮助快速读取诸如温度的连续数据。</p><img src="https://pic.hanjiaming.com.cn/2022/02/03/5cd289f6dc409.png" alt="1643886054786.png" style="zoom:50%;"><h4 id="disable-reg-line" tabindex="-1"><a class="header-anchor" href="#disable-reg-line" aria-hidden="true">#</a> disable reg line</h4><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/d9a51b5ca4b0b.png" alt="1643886378007.png" tabindex="0" loading="lazy"><figcaption>1643886378007.png</figcaption></figure><h3 id="evaluating-regression" tabindex="-1"><a class="header-anchor" href="#evaluating-regression" aria-hidden="true">#</a> Evaluating regression</h3><p>Evaluating regression with residplot()</p><p>画残差图</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>residplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&#39;temp&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;total_rentals&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/a709697c3dfa5.png" alt="1643885488489.png" style="zoom:33%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>residplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&#39;temp&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;total_rentals&#39;</span><span class="token punctuation">,</span> order<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/706f523b41256.png" alt="1643885536234.png" style="zoom:25%;"><h3 id="implot" tabindex="-1"><a class="header-anchor" href="#implot" aria-hidden="true">#</a> implot</h3><p>和regplot很相似，但是比它更高级</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create an lmplot of premiums vs. insurance_losses</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>y <span class="token operator">=</span> <span class="token string">&quot;premiums&quot;</span><span class="token punctuation">,</span>x <span class="token operator">=</span> <span class="token string">&#39;insurance_losses&#39;</span><span class="token punctuation">,</span> data <span class="token operator">=</span> df<span class="token punctuation">)</span>

<span class="token comment"># Display the second plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 和 regplot 相比，下面的图似乎只是没有了上边框和右边框</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/f65963d6e6f31.png" alt="1643832817477.png" style="zoom:50%;"><h4 id="参数-hue" tabindex="-1"><a class="header-anchor" href="#参数-hue" aria-hidden="true">#</a> 参数 hue</h4><p>Organize data by colors (hue)</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a regression plot using hue</span>
<span class="token comment"># 一般只画一次</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
           x<span class="token operator">=</span><span class="token string">&quot;insurance_losses&quot;</span><span class="token punctuation">,</span>
           y<span class="token operator">=</span><span class="token string">&quot;premiums&quot;</span><span class="token punctuation">,</span>
           hue<span class="token operator">=</span><span class="token string">&quot;Region&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Show the results</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/feada8b6a4480.png" alt="1643833052665.png" style="zoom:50%;"><h4 id="参数-col-row" tabindex="-1"><a class="header-anchor" href="#参数-col-row" aria-hidden="true">#</a> 参数 col &amp; row</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;quality&quot;</span><span class="token punctuation">,</span>
  y<span class="token operator">=</span><span class="token string">&quot;alcohol&quot;</span><span class="token punctuation">,</span>
  data<span class="token operator">=</span>df<span class="token punctuation">,</span>
  col<span class="token operator">=</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/8fc523343efc0.png" alt="1643833236520.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a regression plot with multiple rows</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
           x<span class="token operator">=</span><span class="token string">&quot;insurance_losses&quot;</span><span class="token punctuation">,</span>
           y<span class="token operator">=</span><span class="token string">&quot;premiums&quot;</span><span class="token punctuation">,</span>
           row<span class="token operator">=</span><span class="token string">&quot;Region&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># Show the plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/7c8993b6a45e5.png" alt="1643833288899.png" style="zoom:50%;"><h2 id="style-1" tabindex="-1"><a class="header-anchor" href="#style-1" aria-hidden="true">#</a> Style</h2><h3 id="set-style" tabindex="-1"><a class="header-anchor" href="#set-style" aria-hidden="true">#</a> set_style()</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">for</span> style <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token string">&#39;white&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;dark&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;whitegrid&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;darkgrid&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ticks&#39;</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
  sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span>style<span class="token punctuation">)</span>
  sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;Tuition&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
  plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/6a71ca5efafe0.png" alt="1643833567752.png" tabindex="0" loading="lazy"><figcaption>1643833567752.png</figcaption></figure><h3 id="remove-the-spines" tabindex="-1"><a class="header-anchor" href="#remove-the-spines" aria-hidden="true">#</a> Remove the spines</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Set the style to white</span>
sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">&#39;white&#39;</span><span class="token punctuation">)</span>

<span class="token comment"># Create a regression plot</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
           x<span class="token operator">=</span><span class="token string">&#39;pop2010&#39;</span><span class="token punctuation">,</span>
           y<span class="token operator">=</span><span class="token string">&#39;fmr_2&#39;</span><span class="token punctuation">)</span>

sns<span class="token punctuation">.</span>despine<span class="token punctuation">(</span>left<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># Show the plot and clear the figure</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/6bbb43fb42405.png" alt="1643833763462.png" style="zoom:50%;"><h3 id="defining-a-color" tabindex="-1"><a class="header-anchor" href="#defining-a-color" aria-hidden="true">#</a> Defining a color</h3><h4 id="use-matplotlib-to-assign" tabindex="-1"><a class="header-anchor" href="#use-matplotlib-to-assign" aria-hidden="true">#</a> use matplotlib to assign</h4><p>Seaborn supports assigning colors to plots using matplotlib color codes</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>color_codes<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;Tuition&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">&#39;g&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="use-palettes" tabindex="-1"><a class="header-anchor" href="#use-palettes" aria-hidden="true">#</a> use Palettes</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">for</span> p <span class="token keyword">in</span> sns<span class="token punctuation">.</span>palettes<span class="token punctuation">.</span>SEABORN_PALETTES<span class="token punctuation">:</span>
  sns<span class="token punctuation">.</span>set_palette<span class="token punctuation">(</span>p<span class="token punctuation">)</span>
  sns<span class="token punctuation">.</span>distplot<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&#39;Tuition&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/c44388a39db71.png" alt="1643834183142.png" style="zoom:50%;"><h5 id="displaying-palettes" tabindex="-1"><a class="header-anchor" href="#displaying-palettes" aria-hidden="true">#</a> Displaying Palettes</h5><ul><li>Seaborn uses the set_palette() function to <strong>define</strong> a palette</li><li>sns.color_palette() <strong>returns</strong> the <strong>current</strong> palette</li><li>sns.palplot() function <strong>displays</strong> a palette</li></ul><p>一般地，palette影响的是一张图内的多个曲线的颜色，而不是子图之间的颜色。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">for</span> p <span class="token keyword">in</span> sns<span class="token punctuation">.</span>palettes<span class="token punctuation">.</span>SEABORN_PALETTES<span class="token punctuation">:</span>
  sns<span class="token punctuation">.</span>set_palette<span class="token punctuation">(</span>p<span class="token punctuation">)</span>
  sns<span class="token punctuation">.</span>palplot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>color_palette<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/34f9c4c9c3770.png" alt="1643834497812.png" tabindex="0" loading="lazy"><figcaption>1643834497812.png</figcaption></figure><h5 id="defining-custom-palettes" tabindex="-1"><a class="header-anchor" href="#defining-custom-palettes" aria-hidden="true">#</a> Defining Custom Palettes</h5><img src="https://pic.hanjiaming.com.cn/2022/02/03/7b12ccea4c6ce.png" alt="1643834621754.png" style="zoom:50%;"><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/d9f2765042420.png" alt="1654324862208.png" tabindex="0" loading="lazy"><figcaption>1654324862208.png</figcaption></figure><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/03fa774133c9b.png" alt="1654324884580.png" tabindex="0" loading="lazy"><figcaption>1654324884580.png</figcaption></figure><h4 id="use-in-plot" tabindex="-1"><a class="header-anchor" href="#use-in-plot" aria-hidden="true">#</a> use in plot</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a violinplot with the husl palette</span>
sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
         x<span class="token operator">=</span><span class="token string">&#39;Award_Amount&#39;</span><span class="token punctuation">,</span>
         y<span class="token operator">=</span><span class="token string">&#39;Model Selected&#39;</span><span class="token punctuation">,</span>
         palette<span class="token operator">=</span><span class="token string">&#39;husl&#39;</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/b0c8b09b0950c.png" alt="1643883543016.png" style="zoom:33%;"><h3 id="set-context" tabindex="-1"><a class="header-anchor" href="#set-context" aria-hidden="true">#</a> set_context()</h3><p>Smallest to largest: &quot;paper&quot; , &quot;notebook&quot; , &quot;talk&quot; , &quot;poster&quot;</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>set_context<span class="token punctuation">(</span><span class="token string">&quot;talk&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/04/413aefb3f4887.png" alt="1654325111624.png" style="zoom:33%;"><h2 id="plots-of-each-observation" tabindex="-1"><a class="header-anchor" href="#plots-of-each-observation" aria-hidden="true">#</a> Plots of each observation</h2><ul><li>用于描述每一类别值的大小分布</li><li>指定y，y是存放种类的列，采用的列的值的种类是有限的（苹果香蕉梨）</li><li>将每个类别对应的多个x值点在图上。</li><li>统计的值必须是数值或者时间（连续的值）</li></ul><h3 id="stripplot" tabindex="-1"><a class="header-anchor" href="#stripplot" aria-hidden="true">#</a> stripplot</h3><p>Seaborn 的 stripplot() 显示数据集中的每个观察值。在某些情况下，可能很难看到单个数据点。我们可以使用 jitter 参数来更轻松地查看平均承保费用如何随诊断报销代码而变化。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>stripplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;DRG Definition&quot;</span><span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token string">&quot;Average Covered Charges&quot;</span><span class="token punctuation">,</span>jitter<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/fdb30688fc32c.png" alt="1643845492580.png" tabindex="0" loading="lazy"><figcaption>1643845492580.png</figcaption></figure><h3 id="swarmplot" tabindex="-1"><a class="header-anchor" href="#swarmplot" aria-hidden="true">#</a> swarmplot</h3><p>和stripplot很相似。</p><p>我们可以使用 swarmplot() 绘制所有数据的更复杂的可视化。该图使用复杂的算法以不重叠的方式放置观察结果。这种方法的缺点是 swarmplot() 不能很好地扩展到大型数据集。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>swarmplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;DRG Definition&quot;</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;Average Covered Charges&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/f31a9c41f0f27.png" alt="1643845915866.png" tabindex="0" loading="lazy"><figcaption>1643845915866.png</figcaption></figure><h2 id="abstract-representations" tabindex="-1"><a class="header-anchor" href="#abstract-representations" aria-hidden="true">#</a> Abstract representations</h2><p>可以指定hue，这将又增加一个维度，rug指定的列是另一个存放种类的列，采用的列的值的种类是有限的（产品质量好中坏）。相当于把x拆成了多个x.</p><h3 id="boxplot-1" tabindex="-1"><a class="header-anchor" href="#boxplot-1" aria-hidden="true">#</a> boxplot</h3><p>下一类图显示了数据的抽象表示。boxplot() 是这种类型中最常见的。该图用于显示与数据分布相关的几个度量，包括中位数、上四分位数和下四分位数以及异常值。</p><ul><li>统计的值必须是数值或者时间（连续的值）</li><li>指定y，y是存放种类的列，采用的列的值的种类是有限的（苹果香蕉梨）</li><li>每一列的值的特征将呈现在图上（x轴）（比如产量）</li><li>用于表示大量相对无规律值的分布特点</li></ul><p>实例：评价不同水果的产量</p><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/9dda90d327350.png" alt="1643846287887.png" tabindex="0" loading="lazy"><figcaption>1643846287887.png</figcaption></figure><h3 id="violinplot" tabindex="-1"><a class="header-anchor" href="#violinplot" aria-hidden="true">#</a> violinplot</h3><p>和箱型图相似</p><p>violinplot() 是核密度图和箱线图的组合，适用于提供数据分布的替代视图。因为该图使用核密度计算，所以它不显示所有数据点。这对于显示大型数据集很有用，但创建起来可能需要大量计算。</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>violinplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&#39;AGE&#39;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&#39;WTKG3&#39;</span><span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> inner<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/06/08/efc745c5f3b90.png" alt="1654691413852.png" tabindex="0" loading="lazy"><figcaption>1654691413852.png</figcaption></figure><h3 id="lvplot" tabindex="-1"><a class="header-anchor" href="#lvplot" aria-hidden="true">#</a> lvplot</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>lvplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;DRG Definition&quot;</span><span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;Average Covered Charges&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>该分组中的最后一个图是 lvplot()，它代表字母值图。API 与 boxplot() 和 violinplot() 相同，但可以更有效地扩展到大型数据集。lvplot() 是 boxplot() 和 violinplot() 的混合体，渲染速度相对较快且易于解释。</p><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/06148e97e6464.png" alt="1643846529178.png" tabindex="0" loading="lazy"><figcaption>1643846529178.png</figcaption></figure><h2 id="statistical-estimates" tabindex="-1"><a class="header-anchor" href="#statistical-estimates" aria-hidden="true">#</a> Statistical estimates</h2><p>可以指定hue，这将又增加一个维度，rug指定的列是另一个存放种类的列，采用的列的值的种类是有限的（产品质量好中坏）。相当于把x拆成了多个x.</p><h3 id="barplot-1" tabindex="-1"><a class="header-anchor" href="#barplot-1" aria-hidden="true">#</a> barplot</h3><p>最后一类图是数据的统计估计。barplot() 显示了对值的估计以及置信区间。在这个例子中，我们包含了第 1 章中描述的色调参数，它为我们查看这些分类数据提供了另一种有用的方法。</p><p>给定一个y列，展现y对应的x的值。</p><ul><li>统计的值必须是数值或者时间（连续的值）</li><li>指定y，y是存放种类的列，采用的列的值的种类是有限的（苹果香蕉梨），且是唯一的，不重复的</li><li>每个种类的对应的x值将呈现（x)</li><li>适用于值的种类有限</li></ul><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>barplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;DRG Definition&quot;</span><span class="token punctuation">,</span>x<span class="token operator">=</span><span class="token string">&quot;Average Covered Charges&quot;</span><span class="token punctuation">,</span>hue<span class="token operator">=</span><span class="token string">&quot;Region&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/a90b5aaa19ed2.png" alt="1643846632070.png" tabindex="0" loading="lazy"><figcaption>1643846632070.png</figcaption></figure><h3 id="pointplot-1" tabindex="-1"><a class="header-anchor" href="#pointplot-1" aria-hidden="true">#</a> pointplot</h3><p>pointplot() 与 barplot() 相似，因为它显示了一个汇总度量和置信区间。pointplot() 对于观察值如何跨分类值变化非常有用。</p><p>和barplot相同，不过会连线</p><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/6cd18aebd4756.png" alt="1643847510873.png" tabindex="0" loading="lazy"><figcaption>1643847510873.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a pointplot and include the capsize in order to show caps on the error bars</span>
sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
         y<span class="token operator">=</span><span class="token string">&#39;Award_Amount&#39;</span><span class="token punctuation">,</span>
         x<span class="token operator">=</span><span class="token string">&#39;Model Selected&#39;</span><span class="token punctuation">,</span>
              capsize<span class="token operator">=</span><span class="token number">.1</span><span class="token punctuation">)</span> <span class="token comment"># capsize 加个帽子</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/a54f19736a88f.png" alt="1643884618865.png" style="zoom:33%;"><h3 id="countplot-1" tabindex="-1"><a class="header-anchor" href="#countplot-1" aria-hidden="true">#</a> countplot</h3><p>类似于barplot，不过是<strong>只有y，就统计y列下每一种值的个数，而不是直接呈现y对应的x的个数</strong></p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>countplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;DRG_Code&quot;</span><span class="token punctuation">,</span> hue<span class="token operator">=</span><span class="token string">&quot;Region&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/8a638ed64edd1.png" alt="1643847725134.png" tabindex="0" loading="lazy"><figcaption>1643847725134.png</figcaption></figure><h2 id="matrix-plots" tabindex="-1"><a class="header-anchor" href="#matrix-plots" aria-hidden="true">#</a> Matrix Plots</h2><h3 id="grid-format" tabindex="-1"><a class="header-anchor" href="#grid-format" aria-hidden="true">#</a> grid format</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">&quot;mnth&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> df<span class="token punctuation">[</span><span class="token string">&quot;weekday&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> values<span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">&quot;total_rentals&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>aggfunc<span class="token operator">=</span><span class="token string">&#39;mean&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">round</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token comment"># values 指的是将x和y形成对应的值的函数结构，考虑到x和y对应的值可能不只有一个。</span>
<span class="token comment"># round 控制保留小数位</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/843a309ecab29.png" alt="1643901804516.png" style="zoom:67%;"><h3 id="heatmap" tabindex="-1"><a class="header-anchor" href="#heatmap" aria-hidden="true">#</a> heatmap</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>df_crosstab<span class="token punctuation">,</span> annot<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> fmt<span class="token operator">=</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span> cmap<span class="token operator">=</span><span class="token string">&quot;YlGnBu&quot;</span><span class="token punctuation">,</span> cbar<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> center<span class="token operator">=</span>df_crosstab<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/56be7762715d9.png" alt="1643902031151.png" tabindex="0" loading="lazy"><figcaption>1643902031151.png</figcaption></figure><p>一般的，颜色越浅值越大。不过可以使用参数center重新设置焦点。</p><h3 id="correlation-matrix" tabindex="-1"><a class="header-anchor" href="#correlation-matrix" aria-hidden="true">#</a> correlation matrix</h3><p>Pandas corr function calculates correlations between columns in a dataframe</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>df<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span>
sns<span class="token punctuation">.</span>heatmap<span class="token punctuation">(</span>df<span class="token punctuation">.</span>corr<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/03/fd14d7a595fd0.png" alt="1643902185784.png" style="zoom:50%;"><p>在上图中，颜色越浅，表明两列的相关性越高。</p><h2 id="grid-plots" tabindex="-1"><a class="header-anchor" href="#grid-plots" aria-hidden="true">#</a> Grid Plots</h2><p>指定属性列，把把一个图拆成多个图，把属性相同的行的数据放到一个同一个图中。</p><h3 id="tidy-data" tabindex="-1"><a class="header-anchor" href="#tidy-data" aria-hidden="true">#</a> Tidy data</h3><ul><li>Seaborn&#39;s grid plots require data in &quot;tidy format&quot;</li><li>One observation per row of data</li></ul><figure><img src="https://pic.hanjiaming.com.cn/2022/02/03/ffcb65f1d584a.png" alt="1643902367017.png" tabindex="0" loading="lazy"><figcaption>1643902367017.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># g = sns.FaceGrid(df,col = xxx, row = xxx, col_order = xxx,row_order = xxx) 这一步指定怎样切割图</span>
<span class="token comment"># g.map(sns.xxx,&quot;which_col_name&quot;) 指定图的样式 和 数据源参数，order也可以在这里指定</span>

g <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>df<span class="token punctuation">,</span> col<span class="token operator">=</span><span class="token string">&quot;HIGHDEG&quot;</span><span class="token punctuation">)</span>
g<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>sns<span class="token punctuation">.</span>boxplot<span class="token punctuation">,</span> <span class="token string">&#39;Tuition&#39;</span><span class="token punctuation">,</span>order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;3&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;4&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">#map 这一步是必须的 ,这里的boxplot只指定了一个参数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/b3dc55721ae59.png" alt="1643904206013.png" tabindex="0" loading="lazy"><figcaption>1643904206013.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create FacetGrid with Degree_Type and specify the order of the rows using row_order</span>
g2 <span class="token operator">=</span> sns<span class="token punctuation">.</span>FacetGrid<span class="token punctuation">(</span>df<span class="token punctuation">,</span> 
             row<span class="token operator">=</span><span class="token string">&quot;Degree_Type&quot;</span><span class="token punctuation">,</span>
             row_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;Graduate&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Bachelors&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Associates&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Certificate&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># Map a pointplot of SAT_AVG_ALL onto the grid</span>
g2<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>sns<span class="token punctuation">.</span>pointplot<span class="token punctuation">,</span> <span class="token string">&#39;SAT_AVG_ALL&#39;</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token comment"># 没有y轴</span>

<span class="token comment"># Show the plot</span>
plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/29f69256e5647.png" alt="1643904374803.png" style="zoom:50%;"><h3 id="factorplot" tabindex="-1"><a class="header-anchor" href="#factorplot" aria-hidden="true">#</a> factorplot()</h3><p>更加快捷的画grid plots</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create a facetted pointplot of Average SAT_AVG_ALL scores facetted by Degree Type </span>
sns<span class="token punctuation">.</span>factorplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
        x<span class="token operator">=</span><span class="token string">&#39;SAT_AVG_ALL&#39;</span><span class="token punctuation">,</span>
        kind<span class="token operator">=</span><span class="token string">&#39;point&#39;</span><span class="token punctuation">,</span> <span class="token comment">#kind 可以指定 scatter box 等，别忘了kde也是一种kind</span>
        row<span class="token operator">=</span><span class="token string">&#39;Degree_Type&#39;</span><span class="token punctuation">,</span>
        row_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;Graduate&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Bachelors&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Associates&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Certificate&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/239f065774718.png" alt="1643904604973.png" style="zoom:50%;"><h3 id="lmplot" tabindex="-1"><a class="header-anchor" href="#lmplot" aria-hidden="true">#</a> lmplot</h3><p>给lmplot指定col 和 row等参数实现 grid plots</p><p>下面实现了三个属性维度</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Create an lmplot that has a column for Ownership, a row for Degree_Type and hue based on the WOMENONLY column</span>
sns<span class="token punctuation">.</span>lmplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
        x<span class="token operator">=</span><span class="token string">&#39;SAT_AVG_ALL&#39;</span><span class="token punctuation">,</span>
        y<span class="token operator">=</span><span class="token string">&#39;Tuition&#39;</span><span class="token punctuation">,</span>
           
        col<span class="token operator">=</span><span class="token string">&quot;Ownership&quot;</span><span class="token punctuation">,</span>
        col_order<span class="token operator">=</span>inst_ord
        row<span class="token operator">=</span><span class="token string">&#39;Degree_Type&#39;</span><span class="token punctuation">,</span>
        row_order<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;Graduate&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Bachelors&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        
        hue<span class="token operator">=</span><span class="token string">&#39;WOMENONLY&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/444b48550b2ad.png" alt="1643904870981.png" tabindex="0" loading="lazy"><figcaption>1643904870981.png</figcaption></figure><h2 id="pair-plot" tabindex="-1"><a class="header-anchor" href="#pair-plot" aria-hidden="true">#</a> Pair Plot</h2><p>由 x 和 y 定位一个或者多个值</p><h3 id="pairgrid" tabindex="-1"><a class="header-anchor" href="#pairgrid" aria-hidden="true">#</a> PairGrid</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>g <span class="token operator">=</span> sns<span class="token punctuation">.</span>PairGrid<span class="token punctuation">(</span>df<span class="token punctuation">,</span> <span class="token builtin">vars</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;Fair_Mrkt_Rent&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Median_Income&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/6534439842c97.png" alt="1643906168843.png" tabindex="0" loading="lazy"><figcaption>1643906168843.png</figcaption></figure><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">,</span> <span class="token builtin">vars</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;Fair_Mrkt_Rent&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Median_Income&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&#39;reg&#39;</span><span class="token punctuation">,</span>diag_kind<span class="token operator">=</span><span class="token string">&#39;hist&#39;</span><span class="token punctuation">)</span>
<span class="token comment"># kind 指定丿 diag_king指定 捺</span>
<span class="token comment"># kind 和 diag_kind 默认参数是scatter</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/6c4d62051ad0b.png" alt="1643906329961.png" style="zoom:33%;"><h3 id="pairplot" tabindex="-1"><a class="header-anchor" href="#pairplot" aria-hidden="true">#</a> pairplot</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>df<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&#39;BEDRMS &lt; 3&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
             <span class="token builtin">vars</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;Fair_Mrkt_Rent&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Median_Income&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;UTILITY&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token comment"># 随机组合3x3 = 9</span>
             hue<span class="token operator">=</span><span class="token string">&#39;BEDRMS&#39;</span><span class="token punctuation">,</span> palette<span class="token operator">=</span><span class="token string">&#39;husl&#39;</span><span class="token punctuation">,</span>  <span class="token comment">#palette将影响不同hue的颜色</span>
             plot_kws<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;alpha&#39;</span><span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">}</span><span class="token punctuation">)</span>   <span class="token comment"># 改变透明度</span>
<span class="token comment"># 如果不指定kind将智能分配合适的kind</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/ea80994e3573b.png" alt="1643906671957.png" style="zoom:50%;"><h4 id="高度自定义-自定义x和y" tabindex="-1"><a class="header-anchor" href="#高度自定义-自定义x和y" aria-hidden="true">#</a> 高度自定义：自定义x和y</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Build a pairplot with different x and y variables</span>
sns<span class="token punctuation">.</span>pairplot<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span>
        x_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&quot;fatal_collisions_speeding&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fatal_collisions_alc&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">#指定x</span>
        y_vars<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;premiums&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;insurance_losses&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">#指定y</span>
        kind<span class="token operator">=</span><span class="token string">&#39;scatter&#39;</span><span class="token punctuation">,</span>
        hue<span class="token operator">=</span><span class="token string">&#39;Region&#39;</span><span class="token punctuation">,</span>
        palette<span class="token operator">=</span><span class="token string">&#39;husl&#39;</span><span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/98d9f755748e2.png" alt="1643906866451.png" style="zoom:50%;"><h2 id="joint-plot" tabindex="-1"><a class="header-anchor" href="#joint-plot" aria-hidden="true">#</a> Joint plot</h2><img src="https://pic.hanjiaming.com.cn/2022/02/04/162f6e90b82dc.png" alt="1643909289758.png" style="zoom:50%;"><h3 id="jointgrid" tabindex="-1"><a class="header-anchor" href="#jointgrid" aria-hidden="true">#</a> JointGrid</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Build a JointGrid comparing humidity and total_rentals</span>
sns<span class="token punctuation">.</span>set_style<span class="token punctuation">(</span><span class="token string">&quot;whitegrid&quot;</span><span class="token punctuation">)</span>
g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;hum&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;total_rentals&quot;</span><span class="token punctuation">,</span>
            data<span class="token operator">=</span>df<span class="token punctuation">,</span>
            xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 

<span class="token comment"># 指定呈现regplot和distplot，也可以用g.plot_joint(sns.xxx)实现</span>
g<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>regplot<span class="token punctuation">,</span> sns<span class="token punctuation">.</span>distplot<span class="token punctuation">)</span>

plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>clf<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/f031636211c4a.png" alt="1643909850117.png" style="zoom:50%;"><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>g <span class="token operator">=</span> sns<span class="token punctuation">.</span>JointGrid<span class="token punctuation">(</span>data<span class="token operator">=</span>df<span class="token punctuation">,</span> x<span class="token operator">=</span><span class="token string">&quot;Tuition&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;ADM_RATE_ALL&quot;</span><span class="token punctuation">)</span> <span class="token comment"># 制作好画板</span>

<span class="token comment"># 在图内添加kde</span>
g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">)</span>

<span class="token comment"># 在图边上添加kde，并填充</span>
g <span class="token operator">=</span> g<span class="token punctuation">.</span>plot_marginals<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">,</span> shade<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 添加注解</span>
g <span class="token operator">=</span> g<span class="token punctuation">.</span>annotate<span class="token punctuation">(</span>stats<span class="token punctuation">.</span>pearsonr<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/a69ceecfe535c.png" alt="1643910205501.png" tabindex="0" loading="lazy"><figcaption>1643910205501.png</figcaption></figure><h3 id="jointplot" tabindex="-1"><a class="header-anchor" href="#jointplot" aria-hidden="true">#</a> jointplot</h3><p>更快捷的画Joint plot</p><p>边上自带displot</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>g <span class="token operator">=</span> <span class="token punctuation">(</span>sns<span class="token punctuation">.</span>jointplot<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">&quot;Tuition&quot;</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">&quot;ADM_RATE_ALL&quot;</span><span class="token punctuation">,</span> kind<span class="token operator">=</span><span class="token string">&#39;scatter&#39;</span><span class="token punctuation">,</span> <span class="token comment"># 指定kind</span>
                    xlim<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">25000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    marginal_kws <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span>bins<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">,</span>rug<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  			<span class="token comment"># 设定边上的displot的样式</span>
                    data<span class="token operator">=</span>df<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&#39;UG &lt; 2500 &amp; Ownership == &quot;Public&quot;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span>plot_joint<span class="token punctuation">(</span>sns<span class="token punctuation">.</span>kdeplot<span class="token punctuation">)</span><span class="token punctuation">)</span>															<span class="token comment"># 在图内叠加kde</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/02/04/bbfa8de4480d2.png" alt="1643910506977.png" style="zoom:33%;"><h2 id="facetgrid-与-axessubplot对象" tabindex="-1"><a class="header-anchor" href="#facetgrid-与-axessubplot对象" aria-hidden="true">#</a> FacetGrid 与 AxesSubplot对象</h2><p>Seaborn 的绘图函数创建两种不同类型的对象：FacetGrids 和 AxesSubplots。要确定您正在使用哪种类型的对象，首先将绘图输出分配给一个变量。</p><p>FacetGrid 由一个或多个 AxesSubplots 组成，这就是它支持子图的方式。</p><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/fc3c95b2f79c7.png" alt="1654332634772.png" tabindex="0" loading="lazy"><figcaption>1654332634772.png</figcaption></figure><h3 id="facetgrid-添加标题" tabindex="-1"><a class="header-anchor" href="#facetgrid-添加标题" aria-hidden="true">#</a> FacetGrid 添加标题</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/170e0ba719353.png" alt="1654332690708.png" tabindex="0" loading="lazy"><figcaption>1654332690708.png</figcaption></figure><h3 id="axessubplot-添加标题" tabindex="-1"><a class="header-anchor" href="#axessubplot-添加标题" aria-hidden="true">#</a> AxesSubplot 添加标题</h3><figure><img src="https://pic.hanjiaming.com.cn/2022/06/04/00c09b1224c3e.png" alt="1654333078982.png" tabindex="0" loading="lazy"><figcaption>1654333078982.png</figcaption></figure><p>对于子图的标题，建议使用后期处理的方式添加。</p><h3 id="adding-axis-labels" tabindex="-1"><a class="header-anchor" href="#adding-axis-labels" aria-hidden="true">#</a> Adding axis labels</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>g<span class="token punctuation">.</span><span class="token builtin">set</span><span class="token punctuation">(</span>xlabel<span class="token operator">=</span><span class="token string">&quot;New X Label&quot;</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">&quot;New Y Label&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="rotating-x-axis-tick-labels" tabindex="-1"><a class="header-anchor" href="#rotating-x-axis-tick-labels" aria-hidden="true">#</a> Rotating x-axis tick labels</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span>rotation<span class="token operator">=</span><span class="token number">90</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><img src="https://pic.hanjiaming.com.cn/2022/06/04/2e72584509c99.png" alt="1654333181304.png" style="zoom:50%;"><h2 id="修改轴scale" tabindex="-1"><a class="header-anchor" href="#修改轴scale" aria-hidden="true">#</a> 修改轴scale</h2><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Plot the y-axis on a log scale</span>
plt<span class="token punctuation">.</span>yscale<span class="token punctuation">(</span><span class="token string">&#39;log&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><ol><li>查看分布用 displot <ul><li>displot将 rugplot(),kdeplot()和matplotlib的hist和三为一</li></ul></li><li>回归分析 用 lmplot</li><li>检查数据的分布用lvplot等</li><li>需要按照属性对数据图进行对比，使用factorplot</li><li>最后，熟悉了数据，可以用pairplot 和 jointplot进行呈现</li></ol><figure><img src="https://pic.hanjiaming.com.cn/2022/02/04/aab54f8c209c6.png" alt="1643910643554.png" tabindex="0" loading="lazy"><figcaption>1643910643554.png</figcaption></figure>`,226);function b(y,f){const s=o("ExternalLinkIcon");return i(),c("div",null,[u,r,d,k,n("p",null,[a("Example gallery: "),n("a",g,[a("https://seaborn.pydata.org/examples/index.html"),t(s)])]),m,n("p",null,[a("ref. "),n("a",h,[a("https://zhuanlan.zhihu.com/p/147645727"),t(s)])]),v])}const w=e(l,[["render",b],["__file","Seaborn-datav.html.vue"]]);export{w as default};
